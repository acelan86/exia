/* Gmu v2.1.0 */
var gmu=gmu||{version:"@version",$:window.Zepto,staticCall:function(a){var b=a.fn,c=[].slice,d=a();return d.length=1,function(a,e){return d[0]=a,b[e].apply(d,c.call(arguments,2))}}(Zepto)};!function(a,b){function c(a,b,c){(a||"").split(i).forEach(function(a){c(a,b)})}function d(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function e(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function f(a,b,c,f){var g,h;return h=e(b),h.ns&&(g=d(h.ns)),a.filter(function(a){return!(!a||h.e&&a.e!==h.e||h.ns&&!g.test(a.ns)||c&&a.cb!==c&&a.cb._cb!==c||f&&a.ctx!==f)})}function g(a,c){return this instanceof g?(c&&b.extend(this,c),this.type=a,this):new g(a,c)}var h=[].slice,i=/\s+/,j=function(){return!1},k=function(){return!0};g.prototype={isDefaultPrevented:j,isPropagationStopped:j,preventDefault:function(){this.isDefaultPrevented=k},stopPropagation:function(){this.isPropagationStopped=k}},a.event={on:function(a,b,d){var f,g=this;return b?(f=this._events||(this._events=[]),c(a,b,function(a,b){var c=e(a);c.cb=b,c.ctx=d,c.ctx2=d||g,c.id=f.length,f.push(c)}),this):this},one:function(a,b,d){var e=this;return b?(c(a,b,function(a,b){var c=function(){return e.off(a,c),b.apply(d||e,arguments)};c._cb=b,e.on(a,c,d)}),this):this},off:function(a,b,d){var e=this._events;return e?a||b||d?(c(a,b,function(a,b){f(e,a,b,d).forEach(function(a){delete e[a.id]})}),this):(this._events=[],this):this},trigger:function(a){var b,c,d,e,i,j=-1;if(!this._events||!a)return this;if("string"==typeof a&&(a=new g(a)),b=h.call(arguments,1),a.args=b,b.unshift(a),c=f(this._events,a.type))for(e=c.length;++j<e;)if((d=a.isPropagationStopped())||!1===(i=c[j]).cb.apply(i.ctx2,b)){d||(a.stopPropagation(),a.preventDefault());break}return this}},a.Event=g}(gmu,gmu.$),function(a){a.parseTpl=function(a,b){var c="var __p=[];with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,b){return"',"+b.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,b){return"');"+b.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',d=new Function("obj",c);return b?d(b):d}}(Zepto),function(a,b,c){function d(a){return"[object Object]"===o.call(a)}function e(a,b){a&&Object.keys(a).forEach(function(c){b(c,a[c])})}function f(a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:/(?:\{[\s\S]*\}|\[[\s\S]*\])$/.test(a)?JSON.parse(a):a}catch(b){a=c}return a}function g(a){for(var b,d,e={},g=a&&a.attributes,h=g&&g.length;h--;)d=g[h],b=d.name,"data-"===b.substring(0,5)&&(b=b.substring(5),d=f(d.value),d===c||(e[b]=d));return e}function h(e){var f=e.substring(0,1).toLowerCase()+e.substring(1),g=b.fn[f];b.fn[f]=function(f){var g,h,i=n.call(arguments,1),j="string"==typeof f&&f;return b.each(this,function(k,l){if(h=r(l,e)||new a[e](l,d(f)?f:c),"this"===j)return g=h,!1;if(j){if(!b.isFunction(h[j]))throw new Error("组件没有此方法："+j);if(g=h[j].apply(h,i),g!==c&&g!==h)return!1;g=c}}),g!==c?g:this},b.fn[f].noConflict=function(){return b.fn[f]=g,this}}function i(a,c){var d=this;a.superClass&&i.call(d,a.superClass,c),e(r(a,"options"),function(a,e){e.forEach(function(e){var f=e[0],g=e[1];("*"===f||b.isFunction(f)&&f.call(d,c[a])||f===c[a])&&g.call(d)})})}function j(a,d){var f=this;a.superClass&&j.call(f,a.superClass,d),e(r(a,"plugins"),function(a,g){d[a]!==!1&&(e(g,function(a,d){var e;f[a]=b.isFunction(d)&&(e=f[a])?function(){var a,b=f.origin;return f.origin=e,a=d.apply(f,arguments),b===c?delete f.origin:f.origin=b,a}:d}),g._init.call(f))})}function k(){for(var a,c=n.call(arguments),e=c.length;e--;)a=a||c[e],d(c[e])||c.splice(e,1);return c.length?b.extend.apply(null,[!0,{}].concat(c)):a}function l(a,e,f,h,l){var m,n=this;return d(h)&&(l=h,h=c),l&&l.el&&(h=b(l.el)),h&&(n.$el=b(h),h=n.$el[0]),m=n._options=k(e.options,g(h),l),n.template=k(e.template,m.template),n.tpl2html=k(e.tpl2html,m.tpl2html),n.widgetName=a.toLowerCase(),n.eventNs="."+n.widgetName+f,n._init(m),n._options.setup=n.$el&&n.$el.parent()[0]?!0:!1,i.call(n,e,m),j.call(n,e,m),n._create(),n.trigger("ready"),h&&r(h,a,n)&&n.on("destroy",function(){r(h,a,null)}),n}function m(d,f,g){function h(a,b){if("Base"===d)throw new Error("Base类不能直接实例化");return this instanceof h?l.call(this,d,h,i++,a,b):new h(a,b)}"function"!=typeof g&&(g=a.Base);var i=1,j=1;return b.extend(h,{register:function(a,b){var c=r(h,"plugins")||r(h,"plugins",{});return b._init=b._init||p,c[a]=b,h},option:function(a,b,c){var d=r(h,"options")||r(h,"options",{});return d[a]||(d[a]=[]),d[a].push([b,c]),h},inherits:function(a){return m(d+"Sub"+j++,a,h)},extend:function(a){var b=h.prototype,d=g.prototype;q.forEach(function(b){a[b]=k(g[b],a[b]),a[b]&&(h[b]=a[b]),delete a[b]}),e(a,function(a,e){b[a]="function"==typeof e&&d[a]?function(){var b,f=this.$super;return this.$super=function(){var b=n.call(arguments,1);return d[a].apply(this,b)},b=e.apply(this,arguments),f===c?delete this.$super:this.$super=f,b}:e})}}),h.superClass=g,h.prototype=Object.create(g.prototype),h.extend(f),h}var n=[].slice,o=Object.prototype.toString,p=function(){},q=["options","template","tpl2html"],r=function(){var a={},b=0,d="_gid";return function(e,f,g){var h=e[d]||(e[d]=++b),i=a[h]||(a[h]={});return g!==c&&(i[f]=g),null===g&&delete i[f],i[f]}}(),s=a.event;a.define=function(b,c,d){a[b]=m(b,c,d),h(b)},a.isWidget=function(b,c){return c="string"==typeof c?a[c]||p:c,c=c||a.Base,b instanceof c},a.Base=m("Base",{_init:p,_create:p,getEl:function(){return this.$el},on:s.on,one:s.one,off:s.off,trigger:function(c){var d="string"==typeof c?new a.Event(c):c,e=[d].concat(n.call(arguments,1)),f=this._options[d.type],g=this.getEl();return f&&b.isFunction(f)&&!1===f.apply(this,e)&&(d.stopPropagation(),d.preventDefault()),s.trigger.apply(this,e),g&&g.triggerHandler(d,(e.shift(),e)),this},tpl2html:function(a,c){var d=this.template;return d="string"==typeof a?d[a]:(c=a,d),c||~d.indexOf("<%")?b.parseTpl(d,c):d},destroy:function(){this.$el&&this.$el.off(this.eventNs),this.trigger("destroy"),this.off(),this.destroyed=!0}},Object),b.ui=a}(gmu,gmu.$),function(a){a.extend(a,{throttle:function(b,c,d){function e(){function a(){g=Date.now(),c.apply(h,j)}function e(){f=void 0}var h=this,i=Date.now()-g,j=arguments;d&&!f&&a(),f&&clearTimeout(f),void 0===d&&i>b?a():f=setTimeout(d?e:a,void 0===d?b-i:b)}var f,g=0;return"function"!=typeof c&&(d=c,c=b,b=250),e._zid=c._zid=c._zid||a.proxy(c)._zid,e},debounce:function(b,c,d){return void 0===c?a.throttle(250,b,!1):a.throttle(b,c,void 0===d?!1:d!==!1)}})}(Zepto),function(a,b){function c(){a(b).on("scroll",a.debounce(80,function(){a(b).trigger("scrollStop")},!1))}function d(){a(b).off("scroll"),c()}c(),a(b).on("pageshow",function(c){c.persisted&&a(b).off("touchstart",d).one("touchstart",d)})}(Zepto,window),function(a){a.matchMedia=function(){var b=0,c="gmu-media-detect",d=a.fx.transitionEnd,e=a.fx.cssPrefix,f=a("<style></style>").append("."+c+"{"+e+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(e){var g,h,i=c+b++,j=[];return f.append("@media "+e+" { #"+i+" { width: 1px; } }\n"),g=a('<div class="'+c+'" id="'+i+'"></div>').appendTo("body").on(d,function(){h.matches=1===g.width(),a.each(j,function(b,c){a.isFunction(c)&&c.call(h,h)})}),h={matches:1===g.width(),media:e,addListener:function(a){return j.push(a),this},removeListener:function(a){var b=j.indexOf(a);return~b&&j.splice(b,1),this}}}}()}(Zepto),$(function(){$.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},$.matchMedia($.mediaQuery.ortchange).addListener(function(){$(window).trigger("ortchange")})}),function(a,b){a.extend(a.fn,{fix:function(c){var d=this;if(d.attr("isFixed"))return d;d.css(c).css("position","fixed").attr("isFixed",!0);var e=a('<div style="position:fixed;top:10px;"></div>').appendTo("body"),f=e[0].getBoundingClientRect().top,g=function(){window.pageYOffset>0&&(e[0].getBoundingClientRect().top!==f&&(d.css("position","absolute"),h(),a(window).on("scrollStop",h),a(window).on("ortchange",h)),a(window).off("scrollStop",g),e.remove())},h=function(){d.css({top:window.pageYOffset+(c.bottom!==b?window.innerHeight-d.height()-c.bottom:c.top||0),left:c.right!==b?document.body.offsetWidth-d.width()-c.right:c.left||0}),"100%"==c.width&&d.css("width",document.body.offsetWidth)};return a(window).on("scrollStop",g),d}})}(Zepto),function(a,b,c){a.define("Add2desktop",{options:{icon:"",container:"",key:"_gmu_adddesktop_key",useFix:!0,position:{bottom:12,left:"50%"},beforeshow:function(a){this.key()&&a.preventDefault()},afterhide:function(){this.key(1)},_isShow:!1},_init:function(){var a=this;a.on("ready",function(){a.$el.find(".ui-add2desktop-close").on("click",function(){a.hide()}),a._options.useFix&&a.$el.fix(a._options.position),a.show()}),a.on("destroy",function(){a.$el.remove()})},_create:function(){var a,c=this,d=b.os.version&&b.os.version.substr(0,3)>4.1?"new":"old";if(b.os.version&&b.os.version.substr(0,3)>=7&&(d="iOS7"),c._options.setup){var e=c.$el.children("img").attr("src");e&&(c._options.icon=e)}a=c.$el||(c.$el=b("<div></div>")),a.addClass("ui-add2desktop").appendTo(c._options.container||(c.$el.parent().length?"":document.body)),a.html('<img src="'+c._options.icon+'"/><p>先点击<span class="ui-add2desktop-icon-'+d+'"></span>，<br />再"添加到主屏幕"</p><span class="ui-add2desktop-close"><b></b></span><div class="ui-add2desktop-arrow"><b></b></div>')},key:function(a){var b=window.localStorage;return a!==c?b.setItem(this._options.key,a):b.getItem(this._options.key)},show:function(){var c=this;if(!c._options._isShow){if(!b.os.ios||b.browser.uc||b.browser.qq||b.browser.chrome)return c;var d=new a.Event("beforeshow");if(c.trigger(d),d.isDefaultPrevented())return c;c.$el.css("display","block"),c._options._isShow=!0}return c},hide:function(){var a=this;return a._options._isShow&&(a.$el.css("display","none"),a._options._isShow=!1,a.trigger("afterhide")),a}})}(gmu,gmu.$),function(a){function b(){var a=c.attr("hl-cls");clearTimeout(d),c.removeClass(a).removeAttr("hl-cls"),c=null,e.off("touchend touchmove touchcancel",b)}var c,d,e=a(document);a.fn.highlight=function(f,g){return this.each(function(){var h=a(this);h.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),f&&h.on("touchstart.hl",function(i){var j;c=g?(j=a(i.target).closest(g,this))&&j.length&&j:h,c&&(c.attr("hl-cls",f),d=setTimeout(function(){c.addClass(f)},100),e.on("touchend touchmove touchcancel",b))})})}}(Zepto),function(a,b,c){a.define("Button",{options:{iconpos:"left"},template:{icon:'<span class="ui-icon ui-icon-<%= name %>"></span>',text:'<span class="ui-btn-text"><%= text %></span>'},_getWrap:function(a){return a},_init:function(){var a=this;a.$el=a.$el===c?b("<span/>").appendTo(document.body):a.$el},_create:function(){var a=this,d=a._options,e=a.$wrap=a._getWrap(a.getEl()),f=e.is("input"),g=e.find(".ui-btn-text"),h=e.find(".ui-icon");d.label=d.label===c?e[f?"val":"text"]():d.label,f||d.label===c||!g.length&&(g=b(a.tpl2html("text",{text:d.label}))).appendTo(e.empty()),a.$label=g.length&&g,d.resetText=d.resetText||d.label,f||d.icon&&!h.length&&(h=b(a.tpl2html("icon",{name:d.icon}))).appendTo(e),a.$icon=h.length&&h,e.addClass("ui-btn "+(d.label&&d.icon?"ui-btn-icon-"+d.iconpos:d.label?"ui-btn-text-only":"ui-btn-icon-only")),d.state&&setTimeout(function(){a.state(d.state)},0)},state:function(a){if(a===c)return this._state;var b=this,d=b.$wrap,e=d.is("input"),f=b._options[a+"Text"];return b.$wrap.removeClass("ui-state-"+b._state).addClass("ui-state-"+a),f===c||(e?d:b.$label)[e?"val":"text"](f),b._state!==a&&b.trigger("statechange",a,b._state),b._state=a,b},toggle:function(){return this.state("active"===this._state?"reset":"active"),this}}),b(function(){b(document.body).highlight("ui-state-hover",".ui-btn:not(.ui-state-disabled)")})}(gmu,gmu.$),function(a,b){var c=0;a.Button.register("input",{_getWrap:function(a){var d,e,f;return a.is('input[type="checkbox"], input[type="radio"]')?(e=a.addClass("ui-hidden")[0],(d=e.id)||(e.id=d="input_btn_"+c++),f=b("label[for="+d+"]",e.form||e.ownerDocument||void 0),f.length||(f=b('<label for="'+d+'"></label>').insertBefore(a)),a.prop("checked")&&(this._options.state="active"),f):a},toggle:function(){var a=this.$el;return a.is('input[type="radio"]')&&($radios=b("[name='"+a.attr("name")+"']",a[0].form||a[0].ownerDocument||void 0),$radios.button("state","reset")),this.origin.apply(this,arguments)},state:function(a){var b=this.$el;return b.is('input[type="checkbox"], input[type="radio"]')&&b.prop("disabled","disabled"===a),this.origin.apply(this,arguments)}}),b(function(){b(document.body).on("click.button","label.ui-btn:not(.ui-state-disabled)",function(){b("#"+this.getAttribute("for")).button("toggle")})})}(gmu,gmu.$),function(a){function b(a){return"tagName"in a?a:a.parentNode}function c(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function d(){j=null,k.last&&(k.el.trigger("longTap"),k={})}function e(){j&&clearTimeout(j),j=null}function f(){g&&clearTimeout(g),h&&clearTimeout(h),i&&clearTimeout(i),j&&clearTimeout(j),g=h=i=j=null,k={}}var g,h,i,j,k={},l=750;a(document).ready(function(){var m,n;a(document.body).bind("touchstart",function(c){m=Date.now(),n=m-(k.last||m),k.el=a(b(c.touches[0].target)),g&&clearTimeout(g),k.x1=c.touches[0].pageX,k.y1=c.touches[0].pageY,n>0&&250>=n&&(k.isDoubleTap=!0),k.last=m,j=setTimeout(d,l)}).bind("touchmove",function(a){e(),k.x2=a.touches[0].pageX,k.y2=a.touches[0].pageY,Math.abs(k.x1-k.x2)>10&&a.preventDefault()}).bind("touchend",function(){e(),k.x2&&Math.abs(k.x1-k.x2)>30||k.y2&&Math.abs(k.y1-k.y2)>30?i=setTimeout(function(){k.el.trigger("swipe"),k.el.trigger("swipe"+c(k.x1,k.x2,k.y1,k.y2)),k={}},0):"last"in k&&(h=setTimeout(function(){var b=a.Event("tap");b.cancelTouch=f,k.el.trigger(b),k.isDoubleTap?(k.el.trigger("doubleTap"),k={}):g=setTimeout(function(){g=null,k.el.trigger("singleTap"),k={}},250)},0))}).bind("touchcancel",f),a(window).bind("scroll",f)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(Zepto),function(a,b,c){var d,e=["01月","02月","03月","04月","05月","06月","07月","08月","09月","10月","11月","12月"],f=["日","一","二","三","四","五","六"],g=/^(\+|\-)?(\d+)(M|Y)$/i,h=function(a,b){return 32-new Date(a,b,32).getDate()},i=function(a,b){return new Date(a,b,1).getDay()},j=function(a,b){for(var c=""+a;c.length<b;)c="0"+c;return c},k=function(a){return a.is("select, input")?a.val():a.attr("data-value")};a.define("Calendar",{options:{date:null,firstDay:1,maxDate:null,minDate:null,swipeable:!1,monthChangeable:!1,yearChangeable:!1},_init:function(){this.on("ready",function(){var a=this._options,c=this._container||this.$el,d=b.proxy(this._eventHandler,this);this.minDate(a.minDate).maxDate(a.maxDate).date(a.date||new Date).refresh(),c.addClass("ui-calendar").on("click",d).highlight(),a.swipeable&&c.on("swipeLeft swipeRight",d)})},_create:function(){var a=this.$el;a||(a=this.$el=b("<div>")),a.appendTo(this._options.container||(a.parent().length?"":document.body))},_eventHandler:function(a){var c,d,e,f,g,h=(this._options,(this._container||this.$el).get(0));switch(a.type){case"swipeLeft":case"swipeRight":return this.switchMonthTo(("swipeRight"==a.type?"-":"+")+"1M");case"change":return g=b(".ui-calendar-header .ui-calendar-year, .ui-calendar-header .ui-calendar-month",this._el),this.switchMonthTo(k(g.eq(1)),k(g.eq(0)));default:d=a.target,(c=b(d).closest(".ui-calendar-calendar tbody a",h))&&c.length?(a.preventDefault(),e=c.parent(),this._option("selectedDate",f=new Date(e.attr("data-year"),e.attr("data-month"),c.text())),this.trigger("select",f,b.calendar.formatDate(f),this),this.refresh()):(c=b(d).closest(".ui-calendar-prev, .ui-calendar-next",h))&&c.length&&(a.preventDefault(),this.switchMonthTo((c.is(".ui-calendar-prev")?"-":"+")+"1M"))}},_option:function(a,d){var e,f,g=this._options;if(d!==c){switch(a){case"minDate":case"maxDate":g[a]=d?b.calendar.parseDate(d):null;break;case"selectedDate":e=g.minDate,f=g.maxDate,d=b.calendar.parseDate(d),d=e&&e>d?e:f&&d>f?f:d,g._selectedYear=g._drawYear=d.getFullYear(),g._selectedMonth=g._drawMonth=d.getMonth(),g._selectedDay=d.getDate();break;case"date":this._option("selectedDate",d),g[a]=this._option("selectedDate");break;default:g[a]=d}return g._invalid=!0,this}return"selectedDate"==a?new Date(g._selectedYear,g._selectedMonth,g._selectedDay):g[a]},switchToToday:function(){var a=new Date;return this.switchMonthTo(a.getMonth(),a.getFullYear())},switchMonthTo:function(a,b){var c,d,e,f=this._options,h=this.minDate(),i=this.maxDate();return"[object String]"===Object.prototype.toString.call(a)&&g.test(a)?(c="-"==RegExp.$1?-parseInt(RegExp.$2,10):parseInt(RegExp.$2,10),d=RegExp.$3.toLowerCase(),a=f._drawMonth+("m"==d?c:0),b=f._drawYear+("y"==d?c:0)):(a=parseInt(a,10),b=parseInt(b,10)),e=new Date(b,a,1),e=h&&h>e?h:i&&e>i?i:e,a=e.getMonth(),b=e.getFullYear(),(a!=f._drawMonth||b!=f._drawYear)&&(this.trigger("monthchange",f._drawMonth=a,f._drawYear=b,this),f._invalid=!0,this.refresh()),this},refresh:function(){var a=this._options,c=this._container||this.$el,d=b.proxy(this._eventHandler,this);if(a._invalid)return b(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",c).highlight(),b(".ui-calendar-header select",c).off("change",d),c.empty().append(this._generateHTML()),b(".ui-calendar-calendar td:not(.ui-state-disabled), .ui-calendar-header a",c).highlight("ui-state-hover"),b(".ui-calendar-header select",c).on("change",d),a._invalid=!1,this},destroy:function(){var a=this._container||this.$el,c=this._eventHandler;return b(".ui-calendar-calendar td:not(.ui-state-disabled)",a).highlight(),b(".ui-calendar-header select",a).off("change",c),a.remove(),this.$super("destroy")},_generateHTML:function(){var a,b,c,d,e,g,j,k,l=this._options,m=l._drawYear,n=l._drawMonth,o=new Date,p=new Date(o.getFullYear(),o.getMonth(),o.getDate()),q=this.minDate(),r=this.maxDate(),s=this.selectedDate(),t="";for(c=isNaN(c=parseInt(l.firstDay,10))?0:c,t+=this._renderHead(l,m,n,q,r)+'<table  class="ui-calendar-calendar"><thead><tr>',a=0;7>a;a++)d=(a+c)%7,t+="<th"+((a+c+6)%7>=5?' class="ui-calendar-week-end"':"")+"><span>"+f[d]+"</span></th>";for(t+='</thead></tr><tbody><tr class="ui-calendar-gap"><td colspan="7">&#xa0;</td></tr>',g=h(m,n),e=(i(m,n)-c+7)%7,j=Math.ceil((e+g)/7),k=new Date(m,n,1-e),a=0;j>a;a++){for(t+="<tr>",b=0;7>b;b++)t+=this._renderDay(b,k,c,n,s,p,q,r),k.setDate(k.getDate()+1);t+="</tr>"}return t+="</tbody></table>"},_renderHead:function(a,b,c,d,f){var g,h,i='<div class="ui-calendar-header">',j=new Date(b,c,-1),k=new Date(b,c+1,1);if(i+='<a class="ui-calendar-prev'+(d&&d>j?" ui-state-disable":"")+'" href="#">&lt;&lt;</a><div class="ui-calendar-title">',a.yearChangeable){for(i+='<select class="ui-calendar-year">',g=Math.max(1970,b-10),h=g+20;h>g;g++)i+='<option value="'+g+'" '+(g==b?'selected="selected"':"")+">"+g+"年</option>";i+="</select>"}else i+='<span class="ui-calendar-year" data-value="'+b+'">'+b+"年</span>";if(a.monthChangeable){for(i+='<select class="ui-calendar-month">',g=0;12>g;g++)i+='<option value="'+g+'" '+(g==c?'selected="selected"':"")+">"+e[g]+"</option>";i+="</select>"}else i+='<span class="ui-calendar-month" data-value="'+c+'">'+e[c]+"</span>";return i+='</div><a class="ui-calendar-next'+(f&&k>f?" ui-state-disable":"")+'" href="#">&gt;&gt;</a></div>'},_renderDay:function(a,b,c,d,e,f,g,h){var i,j=b.getMonth()!==d;return i=j||g&&g>b||h&&b>h,"<td class='"+((a+c+6)%7>=5?"ui-calendar-week-end":"")+(i?" ui-calendar-unSelectable ui-state-disabled":"")+(j||i?"":(b.getTime()===e.getTime()?" ui-calendar-current-day":"")+(b.getTime()===f.getTime()?" ui-calendar-today":""))+"'"+(i?"":" data-month='"+b.getMonth()+"' data-year='"+b.getFullYear()+"'")+">"+(j?"&#xa0;":i?"<span class='ui-state-default'>"+b.getDate()+"</span>":"<a class='ui-state-default"+(b.getTime()===f.getTime()?" ui-state-highlight":"")+(b.getTime()===e.getTime()?" ui-state-active":"")+"' href='#'>"+b.getDate()+"</a>")+"</td>"}}),d=a.Calendar.prototype,b.each(["maxDate","minDate","date","selectedDate"],function(a,b){d[b]=function(a){return this._option(b,a)}}),b.calendar={parseDate:function(a){var b=/^(\d{4})(?:\-|\/)(\d{1,2})(?:\-|\/)(\d{1,2})$/;return"[object Date]"===Object.prototype.toString.call(a)?a:b.test(a)?new Date(parseInt(RegExp.$1,10),parseInt(RegExp.$2,10)-1,parseInt(RegExp.$3,10)):null},formatDate:function(a){return a.getFullYear()+"-"+j(a.getMonth()+1,2)+"-"+j(a.getDate(),2)}}}(gmu,gmu.$),function(a,b){function c(a,d){var e,f=b('<span class="ui-holder"></span>'),g=b('<div class="ui-slideup-wrap">   <div class="ui-slideup">       <div class="header">           <span class="ok-btn">确认</span>           <span class="no-btn">取消</span>       </div>       <div class="frame"></div>   </div></div>'),h=b(".ui-slideup",g),i=b(".frame",h),j={refresh:function(a){g.css({top:window.pageYOffset+"px",height:window.innerHeight+"px"}),h.animate({translateY:"-"+h.height()+"px",translateZ:"0"},400,"ease-out",function(){a&&a.call(j)})},close:function(d){var e=c.count=c.count-1;return g.off("click.slideup"+k),h.animate({translateY:"0",translateZ:"0"},200,"ease-out",function(){d&&d(),f.replaceWith(a),g.remove(),0===e&&b(document).off("touchmove.slideup")}).find(".ok-btn, .no-btn").highlight(),j}},k=c.id=(c.id>>>0)+1;return i.append(a.replaceWith(f)),e=c.count=(c.count>>>0)+1,1===e&&b(document).on("touchmove.slideup",function(a){a.preventDefault()}),g.on("click.slideup"+k,".ok-btn, .no-btn",function(){d.call(j,b(this).is(".ok-btn"))!==!1&&j.close()}).appendTo(document.body).find(".ok-btn, .no-btn").highlight("ui-state-hover"),j.refresh(),j}a.Calendar.register("picker",{_create:function(){var a=this.$el;if(!a)throw new Error("请指定日期选择器的赋值对象")},_init:function(){var a=this.$el,c=this._options;this._container=b("<div></div>"),c.date||(c.date=a[a.is("select, input")?"val":"text"]()),b(window).on("ortchange",b.proxy(this._eventHandler,this)),this.on("commit",function(c,d){var e=b.calendar.formatDate(d);a[a.is("select, input")?"val":"text"](e)}),this.on("destroy",function(){b(window).off("ortchange",this._eventHandler),this._frame&&this._frame.close()})},_eventHandler:function(a){"ortchange"===a.type?this._frame&&this._frame.refresh():this.origin(a)},show:function(){var a,d=this;return this._visible?this:(a=this._container,this._visible=!0,this.refresh(),this._frame=c(a,function(a){var c;return a?(c=d._option("selectedDate"),d.trigger("commit",c,b.calendar.formatDate(c),d),d._option("date",c)):d._option("selectedDate",d._option("date")),d.hide(),!1}),this.trigger("show",this))},hide:function(){var b,c=this;return this._visible?(b=new a.Event("beforehide"),this.trigger(b,this),b.isDefaultPrevented()?this:(this._visible=!1,this._frame.close(function(){c.trigger&&c.trigger("hide")}),this._frame=null,this)):this}})}(gmu,gmu.$),function(a,b,c){var d={close:'<a class="ui-dialog-close" title="关闭"><span class="ui-icon ui-icon-delete"></span></a>',mask:'<div class="ui-mask"></div>',title:'<div class="ui-dialog-title"><h3><%=title%></h3></div>',wrap:'<div class="ui-dialog"><div class="ui-dialog-content"></div><% if(btns){ %><div class="ui-dialog-btns"><% for(var i=0, length=btns.length; i<length; i++){var item = btns[i]; %><a class="ui-btn ui-btn-<%=item.index%>" data-key="<%=item.key%>"><%=item.text%></a><% } %></div><% } %></div> '};a.define("Dialog",{options:{autoOpen:!0,buttons:null,closeBtn:!0,mask:!0,width:300,height:"auto",title:null,content:null,scrollMove:!0,container:null,maskClick:null,position:null},getWrap:function(){return this._options._wrap},_init:function(){var a,c=this,e=c._options,f=0,g=b.proxy(c._eventHandler,c),h={};c.on("ready",function(){e._container=b(e.container||document.body),(e._cIsBody=e._container.is("body"))||e._container.addClass("ui-dialog-container"),h.btns=a=[],e.buttons&&b.each(e.buttons,function(b){a.push({index:++f,text:b,key:b})}),e._mask=e.mask?b(d.mask).appendTo(e._container):null,e._wrap=b(b.parseTpl(d.wrap,h)).appendTo(e._container),e._content=b(".ui-dialog-content",e._wrap),e._title=b(d.title),e._close=e.closeBtn&&b(d.close).highlight("ui-dialog-close-hover"),c.$el=c.$el||e._content,c.title(e.title),c.content(e.content),a.length&&b(".ui-dialog-btns .ui-btn",e._wrap).highlight("ui-state-hover"),e._wrap.css({width:e.width,height:e.height}),b(window).on("ortchange",g),e._wrap.on("click",g),e._mask&&e._mask.on("click",g),e.autoOpen&&c.open()})},_create:function(){var a=this._options;this._options.setup&&(a.content=a.content||this.$el.show(),a.title=a.title||this.$el.attr("title"))},_eventHandler:function(a){var c,d,e,f=this,g=f._options;switch(a.type){case"ortchange":this.refresh();break;case"touchmove":g.scrollMove&&a.preventDefault();break;case"click":if(g._mask&&(b.contains(g._mask[0],a.target)||g._mask[0]===a.target))return f.trigger("maskClick");d=g._wrap.get(0),(c=b(a.target).closest(".ui-dialog-close",d))&&c.length?f.close():(c=b(a.target).closest(".ui-dialog-btns .ui-btn",d))&&c.length&&(e=g.buttons[c.attr("data-key")],e&&e.apply(f,arguments))}},_calculate:function(){var a,c,d=this,e=d._options,f=document.body,g={},h=e._cIsBody,i=Math.round;return e.mask&&(g.mask=h?{width:"100%",height:Math.max(f.scrollHeight,f.clientHeight)-1}:{width:"100%",height:"100%"}),a=e._wrap.offset(),c=b(window),g.wrap={left:"50%",marginLeft:-i(a.width/2)+"px",top:h?i(c.height()/2)+window.pageYOffset:"50%",marginTop:-i(a.height/2)+"px"},g},refresh:function(){var a,c,d=this,e=d._options;return e._isOpen&&(c=function(){a=d._calculate(),a.mask&&e._mask.css(a.mask),e._wrap.css(a.wrap)},b.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)?(document.body.scrollLeft=0,setTimeout(c,200)):c()),d},open:function(a,d){var e=this._options;return e._isOpen=!0,e._wrap.css("display","block"),e._mask&&e._mask.css("display","block"),a!==c&&this.position?this.position(a,d):this.refresh(),b(document).on("touchmove",b.proxy(this._eventHandler,this)),this.trigger("open")},close:function(){var a,c=this._options;return a=b.Event("beforeClose"),this.trigger(a),a.defaultPrevented?this:(c._isOpen=!1,c._wrap.css("display","none"),c._mask&&c._mask.css("display","none"),b(document).off("touchmove",this._eventHandler),this.trigger("close"))},title:function(a){var b=this._options,d=a!==c;return d&&(a=(b.title=a)?"<h3>"+a+"</h3>":a,b._title.html(a)[a?"prependTo":"remove"](b._wrap),b._close&&b._close.prependTo(b.title?b._title:b._wrap)),d?this:b.title},content:function(a){var b=this._options,d=a!==c;return d&&b._content.empty().append(b.content=a),d?this:b.content},destroy:function(){var a=this._options,c=this._eventHandler;return b(window).off("ortchange",c),b(document).off("touchmove",c),a._wrap.off("click",c).remove(),a._mask&&a._mask.off("click",c).remove(),a._close&&a._close.highlight(),this.$super("destroy")}})}(gmu,gmu.$),function(a){function b(b){return this.each(function(c){var e=a(this),f=a.isFunction(b)?b.call(this,c,e.offset()):b,g=e.css("position"),h="absolute"===g||"fixed"===g||e.position();"relative"===g&&(h.top-=parseFloat(e.css("top"))||-1*parseFloat(e.css("bottom"))||0,h.left-=parseFloat(e.css("left"))||-1*parseFloat(e.css("right"))||0),parentOffset=e.offsetParent().offset(),props={top:d(f.top-(h.top||0)-parentOffset.top),left:d(f.left-(h.left||0)-parentOffset.left)},"static"==g&&(props.position="relative"),f.using?f.using.call(this,props,c):e.css(props)})}var c=a.fn.offset,d=Math.round;a.fn.offset=function(a){return a?b.call(this,a):c.call(this)}}(Zepto),function(a){function b(a,b){return(parseInt(a,10)||0)*(k.test(a)?b/100:1)}function c(a,c,d,e){return["right"===a[0]?d:"center"===a[0]?d/2:0,"bottom"===a[1]?e:"center"===a[1]?e/2:0,b(c[0],d),b(c[1],e)]}function d(a){var b=a[0],c=b.preventDefault;return b=b.touches&&b.touches[0]||b,9===b.nodeType||b===window||c?{width:c?0:a.width(),height:c?0:a.height(),top:b.pageYOffset||b.pageY||0,left:b.pageXOffset||b.pageX||0}:a.offset()}function e(b){var c=a(b=b||window),e=d(c);return b=c[0],{$el:c,width:e.width,height:e.height,scrollLeft:b.pageXOffset||b.scrollLeft,scrollTop:b.pageYOffset||b.scrollTop}}function f(a,b){["my","at"].forEach(function(c){var d=(a[c]||"").split(" "),e=a[c]=["center","center"],f=b[c]=[0,0];1===d.length&&d[j.test(d[0])?"unshift":"push"]("center"),i.test(d[0])&&(e[0]=RegExp.$1)&&(f[0]=RegExp.$2),j.test(d[1])&&(e[1]=RegExp.$1)&&(f[1]=RegExp.$2)})}var g=a.fn.position,h=Math.round,i=/^(left|center|right)([\+\-]\d+%?)?$/,j=/^(top|center|bottom)([\+\-]\d+%?)?$/,k=/%$/;a.fn.position=function(b){if(!b||!b.of)return g.call(this);b=a.extend({},b);var i,j=a(b.of),k=b.collision,l=k&&e(b.within),m={},n=d(j),o={left:n.left,top:n.top};return j[0].preventDefault&&(b.at="left top"),f(b,m),i=c(b.at,m.at,n.width,n.height),o.left+=i[0]+i[2],o.top+=i[1]+i[3],this.each(function(){var d=a(this),e=d.offset(),f=a.extend({},o),g=c(b.my,m.my,e.width,e.height);f.left=h(f.left+g[2]-g[0]),f.top=h(f.top+g[3]-g[1]),k&&k.call(this,f,{of:n,offset:e,my:b.my,at:b.at,within:l,$el:d}),f.using=b.using,d.offset(f)})}}(Zepto),function(a,b){a.Dialog.register("position",{_init:function(){var a=this._options;a.position=a.position||{of:a.container||window,at:"center",my:"center"}},position:function(a,c){var d=this._options;return b.isPlainObject(a)?b.extend(d.position,a):d.position.at="left"+(a>0?"+"+a:a)+" top"+(c>0?"+"+c:c),this.refresh()},_calculate:function(){var a=this,c=a._options,d=c.position,e=a.origin();return c._wrap.position(b.extend(d,{using:function(a){e.wrap=a}})),e}})}(gmu,gmu.$),function(a,b,c){a.define("Popover",{options:{container:null,content:null,event:"click"},template:{frame:"<div>"},_create:function(){var a=this,c=a._options,d=c.target&&b(c.target)||a.getEl(),e=c.container&&b(c.container);e&&e.length||(e=b(a.tpl2html("frame")).addClass("ui-mark-temp")),a.$root=e,c.content&&a.setContent(c.content),a.trigger("done.dom",e.addClass("ui-"+a.widgetName),c),e.parent().length||d.after(e),a.target(d)},_checkTemp:function(a){a.is(".ui-mark-temp")&&a.off(this.eventNs)&&a.remove()},show:function(){var b=this,c=a.Event("beforeshow");return b.trigger(c),c.isDefaultPrevented()?void 0:(b.trigger("placement",b.$root.addClass("ui-in"),b.$target),b._visible=!0,b.trigger("show"))},hide:function(){var b=this,c=new a.Event("beforehide");return b.trigger(c),c.isDefaultPrevented()?void 0:(b.$root.removeClass("ui-in"),b._visible=!1,b.trigger("hide"))},toggle:function(){var a=this;return a[a._visible?"hide":"show"].apply(a,arguments)},target:function(a){if(a===c)return this.$target;var d=this,e=b(a),f=d.$target,g=d._options.event+d.eventNs;return f&&f.off(g),d.$target=e.on(g,function(a){a.preventDefault(),d.toggle()}),d},setContent:function(a){var b=this.$root;return b.empty().append(a),this},destroy:function(){var a=this;return a.$target.off(a.eventNs),a._checkTemp(a.$root),a.$super("destroy")}})}(gmu,gmu.$),function(a,b){a.define("Dropmenu",{options:{content:null},template:{item:'<li><a <% if ( href ) { %>href="<%= href %>"<% } %>><% if ( icon ) { %><span class="ui-icon ui-icon-<%= icon %>"></span><% } %><%= text %></a></li>',divider:'<li class="divider"></li>',wrap:"<ul>"},_init:function(){var a=this;a.on("done.dom",function(b,c){a.$list=c.find("ul").first().addClass("ui-dropmenu-items").highlight("ui-state-hover",".ui-dropmenu-items>li:not(.divider)")})},_create:function(){var c=this,d=c._options,e="";"array"===b.type(d.content)&&(d.content.forEach(function(a){a=b.extend({href:"",icon:"",text:""},"string"==typeof a?{text:a}:a),e+=c.tpl2html("divider"===a.text?"divider":"item",a)}),d.content=b(c.tpl2html("wrap")).append(e)),c.$super("_create"),c.$list.on("click"+c.eventNs,".ui-dropmenu-items>li:not(.ui-state-disable):not(.divider)",function(b){var d=a.Event("itemclick",b);c.trigger(d,this),d.isDefaultPrevented()||c.hide()})}},a.Popover)}(gmu,gmu.$),function(a){a.Dropmenu.options.horizontal=!0,a.Dropmenu.option("horizontal",!0,function(){var a=this;
a.on("done.dom",function(a,b){b.addClass("ui-horizontal")})})}(gmu,gmu.$),function(a,b){b.extend(a.Dropmenu.options,{placement:"bottom",align:"center",offset:null}),a.Dropmenu.option("placement",function(a){return~["top","bottom"].indexOf(a)},function(){function a(a,b){return"right"===a||"bottom"===a?b:"center"===a?b/2:0}function c(b,c,e,f,g){var h=d.of,i=d.coord,j=d.offset,k=h.top,l=h.left;return l+=a(c,h.width)-a(f,i.width),k+=a(e,h.height)-a(g,i.height),j="function"==typeof j?j.call(null,{left:l,top:k},b):j||{},{left:l+(j.left||0),top:k+(j.top||0)}}var d,e={top_center:"center top center bottom",top_left:"left top left bottom",top_right:"right top right bottom",bottom_center:"center bottom center top",bottom_right:"right bottom right top",bottom_left:"left bottom left top"},f={};b.each(e,function(a,b){b=b.split(/\s/g),b.unshift(a),f[a]=function(){return c.apply(null,b)}}),this.on("placement",function(a,b,c){var e,g=this,h=g._options,i=h.placement,j=h.align;d={coord:b.offset(),of:c.offset(),placement:i,align:j,$el:b,$of:c,offset:h.offset},e=f[i+"_"+j](),g.trigger("before.placement",e,d,f),/^(\w+)_(\w+)$/.test(d.preset)&&(d.placement=RegExp.$1,d.align=RegExp.$2),b.offset(e),g.trigger("after.placement",e,d)})})}(gmu,gmu.$),function(a,b,c){a.define("Gotop",{options:{container:"",useFix:!0,useHide:!0,useAnimation:!1,position:{bottom:10,right:10},afterScroll:null},_init:function(){var a,c,d=this,e=d._options;b.os.version&&b.os.version.substr(0,3)>=7&&(e.position.bottom=40),d.on("ready",function(){a=d.$el,c=b.proxy(d._eventHandler,d),e.useHide&&b(document).on("touchmove",c),b(window).on("touchend touchcancel scrollStop",c),b(window).on("scroll ortchange",c),a.on("click",c),d.on("destroy",function(){b(window).off("touchend touchcancel scrollStop",c),b(document).off("touchmove",c),b(window).off("scroll ortchange",c)}),e.useFix&&a.fix(e.position),e.root=a[0]}),d.on("destroy",function(){d.$el.remove()})},_create:function(){var a=this;return a.$el||(a.$el=b("<div></div>")),a.$el.addClass("ui-gotop").append("<div></div>").appendTo(a._options.container||(a.$el.parent().length?"":document.body)),a},_eventHandler:function(a){var b=this;switch(a.type){case"touchmove":b.hide();break;case"scroll":clearTimeout(b._options._TID);break;case"touchend":case"touchcancel":clearTimeout(b._options._TID),b._options._TID=setTimeout(function(){b._check.call(b)},300);break;case"scrollStop":b._check();break;case"ortchange":b._check.call(b);break;case"click":b._scrollTo()}},_check:function(a){var b=this;return(a!==c?a:window.pageYOffset)>document.documentElement.clientHeight?b.show():b.hide(),b},_scrollTo:function(){var a=this,b=window.pageYOffset;return a.hide(),clearTimeout(a._options._TID),a._options.useAnimation?a._options.moveToTop=setInterval(function(){b>1?(window.scrollBy(0,-Math.min(150,b-1)),b-=150):(clearInterval(a._options.moveToTop),a.trigger("afterScroll"))},25,!0):(window.scrollTo(0,1),a.trigger("afterScroll")),a},show:function(){return this._options.root.style.display="block",this},hide:function(){return this._options.root.style.display="none",this}})}(gmu,gmu.$),function(a,b){a.define("Historylist",{options:{container:document.body,deleteSupport:!0,items:[]},template:{wrap:'<ul class="ui-historylist">',item:'<li data-id="<%=id%>"><p class="ui-historylist-itemwrap"><span class="ui-historylist-item"><%=context%></span></p></li>',clear:'<p class="ui-historylist-clear">清空搜索历史</p>'},_init:function(){var a=this,b=a._options;a.$el=b.container=b.container||document.body,a.items=[],a.on("ready",function(){a._bindUI()}),a.on("itemDelete",function(){0===a.items.length&&a.hide()})},_create:function(){var a=this,c=a._options;a.$el.hide(),a.$wrap=b(a.tpl2html("wrap")).appendTo(c.container),a.$clear=b(a.tpl2html("clear")).appendTo(c.container),!a._options.deleteSupport&&a.$clear.hide(),a.addItems(c.items),a.show()},_filterItemsById:function(a,b){var c=this;c.items.forEach(function(d,e){return d.id===a?void b.call(c,d,e):void 0})},_bindUI:function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=this,r=!1;q.$clear.on("tap"+q.eventNs,function(b){setTimeout(function(){a.Dialog({closeBtn:!1,buttons:{"清空":function(){q.clear(),this.destroy()},"取消":function(){this.destroy()}},title:"清空历史",content:"<p>是否清空搜索历史？</p>",open:function(){this._options._wrap.addClass("ui-historylist-dialog")}})},10),b.preventDefault(),b.stopPropagation()}),q.$wrap.on("tap"+q.eventNs,function(a){if(!q._options.deleteSupport){if(d=b(a.target),!d.hasClass("ui-historylist-itemwrap")&&!(d=d.parents(".ui-historylist-itemwrap")).length)return void(d=null);e=d.parent().attr("data-id"),q._filterItemsById(e,function(a){q.trigger("itemTouch",{item:a.value})})}}),q.$wrap.on("touchstart"+q.eventNs,function(a){if(q._options.deleteSupport){if(c=a.touches[0],d=b(c.target),f=a.timeStamp,j=i=parseInt(c.pageX),l=k=parseInt(c.pageY),o=!1,r=!1,!d.hasClass("ui-historylist-itemwrap")&&!(d=d.parents(".ui-historylist-itemwrap")).length)return void(d=null);d.addClass("ui-historylist-ontap"),d.css("width",d.width()-parseInt(d.css("border-left-width"))-parseInt(d.css("border-right-width")))}}),q.$wrap.on("touchmove"+q.eventNs,function(a){if(d){if(j=a.touches[0].pageX,l=a.touches[0].pageY,void 0===h&&(h=setTimeout(function(){r=Math.abs(l-k)>Math.abs(j-i)/2?!1:!0},10)),o=o||(j-i>=3||l-k>=3?!0:!1),!r)return void setTimeout(function(){d&&d.removeClass("ui-historylist-ontap")},150);n=(j-i)/q.$wrap.width(),d.addClass("ui-historylist-itemmoving"),d.removeClass("ui-historylist-ontap"),d.css("-webkit-transform","translate3d("+(j-i)+"px, 0, 0)"),d.css("opacity",1-n),a.preventDefault(),a.stopPropagation()}}),q.$wrap.on("touchend"+q.eventNs+" touchcancel"+q.eventNs,function(a){d&&(clearTimeout(h),h=void 0,e=d.parent().attr("data-id"),g=a.timeStamp,m=(j-i)/(g-f),p=Math.abs(j-i),d.removeClass("ui-historylist-ontap"),d.removeClass("ui-historylist-itemmoving"),p<q.$wrap.width()/3&&Math.abs(m)>.1&&r||p>=q.$wrap.width()/3&&r?q.removeItem(e,d):(d.css("width","auto"),d.css("-webkit-transform","translate3d(0, 0, 0)"),d.css("opacity",1),!o&&3>p&&q._filterItemsById(e,function(a){q.trigger("itemTouch",{item:a.value})})),d=null)})},show:function(){var a=this;if(0!==a.items.length)return a.sync===!1&&(a.$wrap.html(""),a.addItems(a.syncitems),a.sync=!0),a.$el.show(),a.isShow=!0,a},hide:function(){var a=this;return a.$el.hide(),a.isShow=!1,a},_getItemId:function(){var a=this;return void 0===a._itemId?a._itemId=1:++a._itemId,"__dd__"+a._itemId},_getFormatItem:function(a){var b=this;return"[object String]"===Object.prototype.toString.call(a)?{context:a,value:a,id:b._getItemId()}:{context:a.context||a.value,value:a.value||a.context,id:b._getItemId()}},addItem:function(a){var c=this,a=c._getFormatItem(a);return c.items.forEach(function(d,e){return d.value===a.value?(c.items.splice(e,1),void b(c.$wrap.children()[e]).remove()):void 0}),0===c.$wrap.children().length?c.$wrap.append(c.tpl2html("item",a)):b(c.tpl2html("item",a)).insertBefore(c.$wrap.children()[0]),c.items.unshift(a),c},addItems:function(a){var b=this;return a.forEach(function(a){b.addItem(a)}),b},update:function(a){var b=this;return b.isShow?(b.$wrap.html(""),b.addItems(a),b.sync=!0):(b.syncitems=a,b.sync=!1),b},removeItem:function(a,b){var c,d,e,f=this;d=b.css("-webkit-transform"),e=/translate3d\((.*?),.*/.test(d)?RegExp.$1:0,c=parseInt(e,10)>=0?b.width():-b.width(),b.css("-webkit-transform","translate3d("+c+"px, 0, 0)"),b.on("transitionEnd"+f.eventNs+" webkitTransitionEnd"+f.eventNs,function(){b.parent().remove(),f._filterItemsById(a,function(a,b){f.items.splice(b,1),f.trigger("itemDelete",{item:a.value})})})},clear:function(){var a=this;return a.$wrap.html(""),a.items=[],a.sync=!0,a.hide(),a.trigger("clear"),a},disableDelete:function(){var a=this;return a._options.deleteSupport=!1,a.$clear.hide(),a},enableDelete:function(){var a=this;return a._options.deleteSupport=!0,a.$clear.show(),a},destroy:function(){var a=this;return a.$wrap.off(a.eventNs),a.$clear.off(a.eventNs),a.$wrap.remove(),a.$clear.remove(),a.$super("destroy")}})}(gmu,gmu.$),function(a,b,c){a.define("Navigator",{options:{content:null,event:"click"},template:{list:"<ul>",item:'<li><a<% if( href ) { %> href="<%= href %>"<% } %>><%= text %></a></li>'},_create:function(){var a,d,e=this,f=e._options,g=e.getEl(),h=g.find("ul").first(),i="ui-"+e.widgetName;!h.length&&f.content?(h=b(e.tpl2html("list")),a=e.tpl2html("item"),d="",f.content.forEach(function(c){c=b.extend({href:"",text:""},"string"==typeof c?{text:c}:c),d+=a(c)}),h.append(d).appendTo(g)):(g.is("ul, ol")&&(h=g.wrap("<div>"),g=g.parent()),f.index===c&&(f.index=h.find(".ui-state-active").index(),~f.index||(f.index=0))),e.$list=h.addClass(i+"-list"),e.trigger("done.dom",g.addClass(i),f),h.highlight("ui-state-hover","li"),h.on(f.event+e.eventNs,"li:not(.ui-state-disable)>a",function(a){e._switchTo(b(this).parent().index(),a)}),e.index=-1,e.switchTo(f.index)},_switchTo:function(b,c){if(b!==this.index){var d,e=this,f=e.$list.children(),g=a.Event("beforeselect",c);if(e.trigger(g,f.get(b)),!g.isDefaultPrevented())return d=f.removeClass("ui-state-active").eq(b).addClass("ui-state-active"),e.index=b,e.trigger("select",b,d[0])}},switchTo:function(a){return this._switchTo(~~a)},unselect:function(){this.index=-1,this.$list.children().removeClass("ui-state-active")},getIndex:function(){return this.index}})}(gmu,gmu.$),function(a,b){function c(a){return""===g?a:(a=a.charAt(0).toUpperCase()+a.substr(1),g+a)}var d=Math,e=[],f=b.createElement("div").style,g=function(){for(var a,b="webkitT,MozT,msT,OT,t".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}(),h=g?"-"+g.toLowerCase()+"-":"",i=c("transform"),j=c("transitionProperty"),k=c("transitionDuration"),l=c("transformOrigin"),m=c("transitionTimingFunction"),n=(c("transitionDelay"),/android/gi.test(navigator.appVersion)),o=/hp-tablet/gi.test(navigator.appVersion),p=c("perspective")in f,q="ontouchstart"in a&&!o,r=!!g,s=c("transition")in f,t="onorientationchange"in a?"orientationchange":"resize",u=q?"touchstart":"mousedown",v=q?"touchmove":"mousemove",w=q?"touchend":"mouseup",x=q?"touchcancel":"mouseup",y=function(){if(g===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return a[g]}(),z=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),A=function(){return a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),B=p?" translateZ(0)":"",C=function(c,d){var e,f=this;f.wrapper="object"==typeof c?c:b.getElementById(c),f.wrapper.style.overflow="hidden",f.scroller=f.wrapper.children[0],f.translateZ=B,f.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,onRefresh:null,onBeforeScrollStart:function(a){a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(e in d)f.options[e]=d[e];f.x=f.options.x,f.y=f.options.y,f.options.useTransform=r&&f.options.useTransform,f.options.useTransition=s&&f.options.useTransition,f.scroller.style[j]=f.options.useTransform?h+"transform":"top left",f.scroller.style[k]="0",f.scroller.style[l]="0 0",f.options.useTransition&&(f.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),f.options.useTransform?f.scroller.style[i]="translate("+f.x+"px,"+f.y+"px)"+B:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px",f.refresh(),f._bind(t,a),f._bind(u),f.options.checkDOMChanges&&(f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:!1,handleEvent:function(a){var b=this;switch(a.type){case u:if(!q&&0!==a.button)return;b._start(a);break;case v:b._move(a);break;case w:case x:b._end(a);break;case t:b._resize();break;case y:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_resize:function(){var a=this;setTimeout(function(){a.refresh()},n?200:0)},_pos:function(a,b){a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+B:(a=d.round(a),b=d.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b},_start:function(b){var c,e,f,g=this,h=q?b.touches[0]:b;g.enabled&&(g.options.onBeforeScrollStart&&g.options.onBeforeScrollStart.call(g,b),g.options.useTransition&&g._transitionTime(0),g.moved=!1,g.animating=!1,g.distX=0,g.distY=0,g.absDistX=0,g.absDistY=0,g.dirX=0,g.dirY=0,g.isStopScrollAction=!1,g.options.momentum&&(g.options.useTransform?(c=getComputedStyle(g.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),e=+c[4],f=+c[5]):(e=+getComputedStyle(g.scroller,null).left.replace(/[^0-9-]/g,""),f=+getComputedStyle(g.scroller,null).top.replace(/[^0-9-]/g,"")),(d.round(e)!=d.round(g.x)||d.round(f)!=d.round(g.y))&&(g.isStopScrollAction=!0,g.options.useTransition?g._unbind(y):A(g.aniTime),g.steps=[],g._pos(e,f),g.options.onScrollEnd&&g.options.onScrollEnd.call(g))),g.startX=g.x,g.startY=g.y,g.pointX=h.pageX,g.pointY=h.pageY,g.startTime=b.timeStamp||Date.now(),g.options.onScrollStart&&g.options.onScrollStart.call(g,b),g._bind(v,a),g._bind(w,a),g._bind(x,a))},_move:function(a){var b=this,c=q?a.touches[0]:a,e=c.pageX-b.pointX,f=c.pageY-b.pointY,g=b.x+e,h=b.y+f,i=a.timeStamp||Date.now();b.options.onBeforeScrollMove&&b.options.onBeforeScrollMove.call(b,a),b.pointX=c.pageX,b.pointY=c.pageY,(g>0||g<b.maxScrollX)&&(g=b.options.bounce?b.x+e/2:g>=0||b.maxScrollX>=0?0:b.maxScrollX),(h>b.minScrollY||h<b.maxScrollY)&&(h=b.options.bounce?b.y+f/2:h>=b.minScrollY||b.maxScrollY>=0?b.minScrollY:b.maxScrollY),b.distX+=e,b.distY+=f,b.absDistX=d.abs(b.distX),b.absDistY=d.abs(b.distY),b.absDistX<6&&b.absDistY<6||(b.options.lockDirection&&(b.absDistX>b.absDistY+5?(h=b.y,f=0):b.absDistY>b.absDistX+5&&(g=b.x,e=0)),b.moved=!0,b._beforePos?b._beforePos(h,f)&&b._pos(g,h):b._pos(g,h),b.dirX=e>0?-1:0>e?1:0,b.dirY=f>0?-1:0>f?1:0,i-b.startTime>300&&(b.startTime=i,b.startX=b.x,b.startY=b.y),b.options.onScrollMove&&b.options.onScrollMove.call(b,a))},_end:function(c){if(!q||0===c.touches.length){var e,f,g,h=this,i=q?c.changedTouches[0]:c,j={dist:0,time:0},k={dist:0,time:0},l=(c.timeStamp||Date.now())-h.startTime,m=h.x,n=h.y;if(h._unbind(v,a),h._unbind(w,a),h._unbind(x,a),h.options.onBeforeScrollEnd&&h.options.onBeforeScrollEnd.call(h,c),!h.moved)return q&&this.options.handleClick&&!h.isStopScrollAction&&(h.doubleTapTimer=setTimeout(function(){for(h.doubleTapTimer=null,e=i.target;1!=e.nodeType;)e=e.parentNode;"SELECT"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&(f=b.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,c.view,1,i.screenX,i.screenY,i.clientX,i.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),f._fake=!0,e.dispatchEvent(f))},0)),h._resetPos(400),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c));if(300>l&&h.options.momentum&&(j=m?h._momentum(m-h.startX,l,-h.x,h.scrollerW-h.wrapperW+h.x,h.options.bounce?h.wrapperW:0):j,k=n?h._momentum(n-h.startY,l,-h.y,h.maxScrollY<0?h.scrollerH-h.wrapperH+h.y-h.minScrollY:0,h.options.bounce?h.wrapperH:0):k,m=h.x+j.dist,n=h.y+k.dist,(h.x>0&&m>0||h.x<h.maxScrollX&&m<h.maxScrollX)&&(j={dist:0,time:0}),(h.y>h.minScrollY&&n>h.minScrollY||h.y<h.maxScrollY&&n<h.maxScrollY)&&(k={dist:0,time:0})),j.dist||k.dist)return g=d.max(d.max(j.time,k.time),10),h.scrollTo(d.round(m),d.round(n),g),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c));h._resetPos(200),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?void(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b),b._afterPos&&b._afterPos())):void b.scrollTo(c,d,a||0)},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(y),b._startAni())},_startAni:function(){var a,b,c,e=this,f=e.x,g=e.y,h=Date.now();if(!e.animating){if(!e.steps.length)return void e._resetPos(400);if(a=e.steps.shift(),a.x==f&&a.y==g&&(a.time=0),e.animating=!0,e.moved=!0,e.options.useTransition)return e._transitionTime(a.time),e._pos(a.x,a.y),e.animating=!1,void(a.time?e._bind(y):e._resetPos(0));c=function(){var i,j,k=Date.now();return k>=h+a.time?(e._pos(a.x,a.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),void e._startAni()):(k=(k-h)/a.time-1,b=d.sqrt(1-k*k),i=(a.x-f)*b+f,j=(a.y-g)*b+g,e._pos(i,j),void(e.animating&&(e.aniTime=z(c))))},c()}},_transitionTime:function(a){a+="ms",this.scroller.style[k]=a},_momentum:function(a,b,c,e,f){var g=6e-4,h=d.abs(a)*(this.options.speedScale||1)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=f/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>e&&(k=f/(6/(i/h*g)),e+=k,h=h*e/i,i=e),i*=0>a?-1:1,j=h/g,{dist:i,time:d.round(j)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_bind:function(a,b,c){e.concat([b||this.scroller,a,this]),(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var b=this;b.scroller.style[i]="",b._unbind(t,a),b._unbind(u),b._unbind(v,a),b._unbind(w,a),b._unbind(x,a),b.options.useTransition&&b._unbind(y),b.options.checkDOMChanges&&clearInterval(b.checkDOMTime),b.options.onDestroy&&b.options.onDestroy.call(b);for(var c=0,d=e.length;d>c;)e[c].removeEventListener(e[c+1],e[c+2]),e[c]=null,c+=3;e=[]},refresh:function(){var a,b=this;b.wrapperW=b.wrapper.clientWidth||1,b.wrapperH=b.wrapper.clientHeight||1,b.minScrollY=-b.options.topOffset||0,b.scrollerW=d.round(b.scroller.offsetWidth*b.scale),b.scrollerH=d.round((b.scroller.offsetHeight+b.minScrollY)*b.scale),b.maxScrollX=b.wrapperW-b.scrollerW,b.maxScrollY=b.wrapperH-b.scrollerH+b.minScrollY,b.dirX=0,b.dirY=0,b.options.onRefresh&&b.options.onRefresh.call(b),b.hScroll=b.options.hScroll&&b.maxScrollX<0,b.vScroll=b.options.vScroll&&(!b.options.bounceLock&&!b.hScroll||b.scrollerH>b.wrapperH),a=b._offset(b.wrapper),b.wrapperOffsetLeft=-a.left,b.wrapperOffsetTop=-a.top,b.scroller.style[k]="0",b._resetPos(400)},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(a,b){var c,e=this;a=a.nodeType?a:e.scroller.querySelector(a),a&&(c=e._offset(a),c.left+=e.wrapperOffsetLeft,c.top+=e.wrapperOffsetTop,c.left=c.left>0?0:c.left<e.maxScrollX?e.maxScrollX:c.left,c.top=c.top>e.minScrollY?e.minScrollY:c.top<e.maxScrollY?e.maxScrollY:c.top,b=void 0===b?d.max(2*d.abs(c.left),2*d.abs(c.top)):b,e.scrollTo(c.left,c.top,b))},scrollToPage:function(a,b,c){var d,e,f=this;c=void 0===c?400:c,f.options.onScrollStart&&f.options.onScrollStart.call(f),d=-f.wrapperW*a,e=-f.wrapperH*b,d<f.maxScrollX&&(d=f.maxScrollX),e<f.maxScrollY&&(e=f.maxScrollY),f.scrollTo(d,e,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(v,a),this._unbind(w,a),this._unbind(x,a)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(y):A(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},isReady:function(){return!this.moved&&!this.animating}},f=null,"undefined"!=typeof exports?exports.iScroll=C:a.iScroll=C,function(a,b,c){if(a){var d,e=b.iScroll,f=[].slice,g=function(){var a={},b=0,d="_sid";return function(e,f){var g=e[d]||(e[d]=++b);return f!==c&&(a[g]=f),null===f&&delete a[g],a[g]}}();b.iScroll=d=function(a,b){var c=([].slice.call(arguments,0),new e(a,b));return g(a,c),c},d.prototype=e.prototype,a.fn.iScroll=function(b){var e,h,i=f.call(arguments,1),j="string"==typeof b&&b;return a.each(this,function(f,k){if(h=g(k)||d(k,a.isPlainObject(b)?b:c),"this"===j)return e=h,!1;if(j){if(!a.isFunction(h[j]))throw new Error("iScroll没有此方法："+j);if(e=h[j].apply(h,i),e!==c&&e!==h)return!1;e=c}}),e!==c?e:this}}}(a.Zepto||null,a)}(window,document),function(a,b){a.Navigator.options.iScroll={hScroll:!0,vScroll:!1,hScrollbar:!1,vScrollbar:!1},a.Navigator.register("scrollable",{_init:function(){var a=this,c=a._options;a.on("done.dom",function(){a.$list.wrap('<div class="ui-scroller"></div>'),a.trigger("init.iScroll"),a.$el.iScroll(b.extend({},c.iScroll))}),b(window).on("ortchange"+a.eventNs,b.proxy(a.refresh,a)),a.on("destroy",function(){a.$el.iScroll("destroy"),b(window).off("ortchange"+a.eventNs)})},refresh:function(){this.trigger("refresh.iScroll").$el.iScroll("refresh")}})}(gmu,gmu.$),function(a,b){a.Navigator.options.visibleCount=4,a.Navigator.option("visibleCount","*",function(){function a(){var a=window.innerWidth>window.innerHeight?"landscape":"portrait",b=e[a],d=c.$el;c.$list.children().width(d.width()/b),c.$list.width(d.width()/b*c.$list.children().length)}var c=this,d=c._options,e="number"===b.type(d.visibleCount)?{portrait:d.visibleCount,landscape:Math.floor(3*d.visibleCount/2)}:d.visibleCount;c.on("init.iScroll refresh.iScroll",a)})}(gmu,gmu.$),function(a,b,c){a.Navigator.options.isScrollToNext=!0,a.Navigator.option("isScrollToNext",!0,function(){var a,d=this;d.on("select",function(e,f,g){a===c&&(a=d.index?0:1);var h,i=f>a,j=b(g)[i?"next":"prev"](),k=j.offset()||b(g).offset(),l=d.$el.offset();(i?k.left+k.width>l.left+l.width:k.left<l.left)&&(h=d.$list.offset(),d.$el.iScroll("scrollTo",i?l.width-k.left+h.left-k.width:h.left-k.left,0,400)),a=f})})}(gmu,gmu.$),function(a,b){var c=b.fx.cssPrefix,d=b.fx.transitionEnd;a.define("Panel",{options:{contentWrap:"",scrollMode:"follow",display:"push",position:"right",dismissible:!0,swipeClose:!0},_init:function(){var a=this,c=a._options;a.on("ready",function(){a.displayFn=a._setDisplay(),a.$contentWrap.addClass("ui-panel-animate"),a.$el.on(d,b.proxy(a._eventHandler,a)).hide(),c.dismissible&&a.$panelMask.hide().on("click",b.proxy(a._eventHandler,a)),"follow"!==c.scrollMode&&b(window).on("scrollStop",b.proxy(a._eventHandler,a)),b(window).on("ortchange",b.proxy(a._eventHandler,a))})},_create:function(){if(!this._options.setup)throw new Error("panel组件不支持create模式，请使用setup模式");var a=this,c=a._options,d=a.$el.addClass("ui-panel ui-panel-"+c.position);a.panelWidth=d.width()||0,a.$contentWrap=b(c.contentWrap||d.next()),c.dismissible&&(a.$panelMask=b('<div class="ui-panel-dismiss"></div>').width(document.body.clientWidth-d.width()).appendTo("body")||null)},_setDisplay:function(){var a,d,e=this,f=e.$el,g=e.$contentWrap,h=c+"transform",i=e._transDisplayToPos(),j={};return b.each(["push","overlay","reveal"],function(b,c){j[c]=function(b,j,k){return a=i[c].panel,d=i[c].cont,f.css(h,"translate3d("+e._transDirectionToPos(j,a[b])+"px,0,0)"),k||(g.css(h,"translate3d("+e._transDirectionToPos(j,d[b])+"px,0,0)"),e.maskTimer=setTimeout(function(){e.$panelMask&&e.$panelMask.css(j,f.width()).toggle(b)},400)),e}}),j},_initPanelPos:function(a,b){return this.displayFn[a](0,b,!0),this.$el.get(0).clientLeft,this},_transDirectionToPos:function(a,b){return"left"===a?b:-b},_transDisplayToPos:function(){var a=this,b=a.panelWidth;return{push:{panel:[-b,0],cont:[0,b]},overlay:{panel:[-b,0],cont:[0,0]},reveal:{panel:[0,0],cont:[0,b]}}},_setShow:function(a,c,d){var e=this,f=e._options,g=a?"open":"close",h=b.Event("before"+g),i=a!==e.state(),j=a?"on":"off",k=a?b.proxy(e._eventHandler,e):e._eventHandler,l=c||f.display,m=d||f.position;return e.trigger(h,[c,d]),h.isDefaultPrevented()?e:(i&&(e._dealState(a,l,m),e.displayFn[l](e.isOpen=Number(a),m),f.swipeClose&&e.$el[j](b.camelCase("swipe-"+m),k),f.display=l,f.position=m),e)},_dealState:function(a,c,e){var f=this,g=f._options,h=f.$el,i=f.$contentWrap,j="ui-panel-"+c+" ui-panel-"+e,k="ui-panel-"+g.display+" ui-panel-"+g.position+" ui-panel-animate";return a&&(h.removeClass(k).addClass(j).show(),"fix"===g.scrollMode&&h.css("top",b(window).scrollTop()),f._initPanelPos(c,e),"reveal"===c?i.addClass("ui-panel-contentWrap").on(d,b.proxy(f._eventHandler,f)):(i.removeClass("ui-panel-contentWrap").off(d,b.proxy(f._eventHandler,f)),h.addClass("ui-panel-animate")),f.$panelMask&&f.$panelMask.css({left:"auto",right:"auto",height:document.body.clientHeight})),f},_eventHandler:function(a){var c=this,e=c._options,f=e.scrollMode,g=c.state()?"open":"close";switch(a.type){case"click":case"swipeLeft":case"swipeRight":c.close();break;case"scrollStop":"fix"===f?c.$el.css("top",b(window).scrollTop()):c.close();break;case d:c.trigger(g,[e.display,e.position]);break;case"ortchange":c.$panelMask&&c.$panelMask.css("height",document.body.clientHeight),"fix"===f&&c.$el.css("top",b(window).scrollTop())}},open:function(a,b){return this._setShow(!0,a,b)},close:function(){return this._setShow(!1)},toggle:function(a,b){return this[this.isOpen?"close":"open"](a,b)},state:function(){return!!this.isOpen},destroy:function(){return this.$panelMask&&this.$panelMask.off().remove(),this.maskTimer&&clearTimeout(this.maskTimer),this.$contentWrap.removeClass("ui-panel-animate"),b(window).off("scrollStop",this._eventHandler),b(window).off("ortchange",this._eventHandler),this.$super("destroy")}})}(gmu,gmu.$),function(a){var b=a.Popover;b.template.arrow='<span class="ui-arrow"></span>',b.options.arrow=!0,b.option("arrow",!0,function(){var a=this,b=a._options;b.offset=b.offset||function(a,b){return b=b.split("_")[0],{left:15*("left"===b?-1:"right"===b?1:0),top:15*("top"===b?-1:"bottom"===b?1:0)}},a.on("done.dom",function(b,c){c.append(a.tpl2html("arrow")).addClass("ui-pos-default")}),a.on("after.placement",function(a,b,c){var d=this.$root[0],e=d.className,f=c.placement,g=c.align||"";d.className=e.replace(/(?:\s|^)ui-pos-[^\s$]+/g,"")+" ui-pos-"+f+(g?"-"+g:"")})})}(gmu),function(a,b){a.Popover.options.collision=!0,a.Popover.option("collision",!0,function(){function a(a){var c=b(a);return a=c[0],a!==window&&9!==a.nodeType?c.offset():{width:c.width(),height:c.height(),top:a.pageYOffset||a.scrollTop||0,left:a.pageXOffset||a.scrollLeft||0}}function c(a,b,c,d){return a.left>=d.left&&a.left+b<=d.left+d.width&&a.top>=d.top&&a.top+c<=d.top+d.height}var d=this,e=d._options;d.on("before.placement",function(d,f,g,h){var i=a(e.within||window),j=g.placement,k=g.coord,l=Object.keys(h),m=l.indexOf(j)+1,n=l.splice(m,l.length-m);for(l=n.concat(l);l.length&&!c(f,k.width,k.height,i);)j=l.shift(),b.extend(f,h[j]());g.preset=j})})}(gmu,gmu.$),function(a,b){var c=a.Popover;c.options.dismissible=!0,c.option("dismissible",!0,function(){function a(a){for(var d=c.$target.add(c.$root).get(),e=d.length;e--;)if(d[e]===a||b.contains(d[e],a))return!0;return!1}var c=this,d=b(document),e="click"+c.eventNs;c.on("show",function(){d.off(e).on(e,function(b){a(b.target)||c.hide()})}),c.on("hide",function(){d.off(e)})})}(gmu,gmu.$),function(a,b){b.extend(a.Popover.options,{placement:"bottom",offset:null}),a.Popover.option("placement",function(a){return~["top","bottom","left","right"].indexOf(a)},function(){function a(a,b){return"right"===a||"bottom"===a?b:"center"===a?b/2:0}function c(b,c,e,f,g){var h=d.of,i=d.coord,j=d.offset,k=h.top,l=h.left;return l+=a(c,h.width)-a(f,i.width),k+=a(e,h.height)-a(g,i.height),j="function"==typeof j?j.call(null,{left:l,top:k},b):j||{},{left:l+(j.left||0),top:k+(j.top||0)}}var d,e=this,f={top:"center top center bottom",right:"right center left center",bottom:"center bottom center top",left:"left center right center"},g={};b.each(f,function(a,b){b=b.split(/\s/g),b.unshift(a),g[a]=function(){return c.apply(null,b)}}),this.on("placement",function(a,b,c){var e,f=this,h=f._options,i=h.placement;d={coord:b.offset(),of:c.offset(),placement:i,$el:b,$of:c,offset:h.offset},e=g[i](),f.trigger("before.placement",e,d,g),d.preset&&(d.placement=d.preset),b.offset(e),f.trigger("after.placement",e,d)}),b(window).on("ortchange",function(){e._visible&&e.trigger("placement",e.$target,e.$root)})})}(gmu,gmu.$),function(a,b,c){a.define("Progressbar",{options:{initValue:0,horizontal:!0,transitionDuration:300,_isShow:!0,_current:0,_percent:0},_init:function(){var a,c,d,e,f,g=this;g.on("ready",function(){a=g.$el,c=b.proxy(g._eventHandler,g),d=a.find(".ui-progressbar-button"),e=a.find(".ui-progressbar-bg"),f=a.offset(),d.on("touchstart touchmove touchend touchcancel",c),e.on("touchstart",c),b.extend(g._options,{_button:d[0],$_background:e,_filled:a.find(".ui-progressbar-filled")[0],_width:f.width,_height:f.height}),g._options.horizontal&&f.width&&a.width(f.width),g._options.initValue>0&&g.value(g._options.initValue)}),g.on("destroy",function(){g._options.setup||g.$el.remove()})},_create:function(){var a=this,c=a._options.horizontal?"h":"v";a.$el||(a.$el=b("<div></div>")),a.$el.addClass("ui-progressbar-"+c).appendTo(a._options.container||(a.$el.parent().length?"":document.body)).html('<div class="ui-progressbar-bg"><div class="ui-progressbar-filled"></div><div class="ui-progressbar-button"><div><b></b></div></div></div>')},_eventHandler:function(a){var c=this;switch(a.type){case"touchmove":c._touchMove(a);break;case"touchstart":b(a.target).hasClass("ui-progressbar-bg")?c._click(a):c._touchStart(a);break;case"touchcancel":case"touchend":c._touchEnd();break;case"tap":c._click(a)}},_touchStart:function(a){var c=this,d=c._options;b.extend(c._options,{pageX:a.touches[0].pageX,pageY:a.touches[0].pageY,S:!1,T:!1,X:0,Y:0}),d._button.style.webkitTransitionDuration="0ms",d._filled.style.webkitTransitionDuration="0ms",b(d._button).addClass("ui-progressbar-button-pressed"),c.trigger("dragStart")},_touchMove:function(a){var b,c=this,d=c._options,e=a.touches[0],f=e.pageX-d.pageX,g=e.pageY-d.pageY;if(!d.T){var h=Math.abs(f)<Math.abs(e.pageY-d.pageY);d.T=!0,d.S=h}d.horizontal?d.S||(a.stopPropagation(),a.preventDefault(),b=(f+d._current)/d._width*100,100>=b&&b>=0&&(d._percent=b,d.X=f,d._button.style.webkitTransform="translate3d("+(d.X+d._current)+"px,0,0)",d._filled.style.width=b+"%",c.trigger("valueChange")),c.trigger("dragMove")):d.S&&(a.stopPropagation(),a.preventDefault(),b=-(d._current+g)/d._height*100,100>=b&&b>=0&&(d._percent=b,d.Y=g,d._button.style.webkitTransform="translate3d(0,"+(g+d._current)+"px,0)",d._filled.style.cssText+="height:"+b+"%;top:"+(d._height+g+d._current)+"px",c.trigger("valueChange")),c.trigger("dragMove"))},_touchEnd:function(){var a=this,c=a._options;c._current+=c.horizontal?c.X:c.Y,b(c._button).removeClass("ui-progressbar-button-pressed"),a.trigger("dragEnd")},_click:function(a){var b=this,c=b._options,d=c.$_background.offset(),e=a.touches[0];b.value(c.horizontal?(e.pageX-d.left)/c._width*100:(c._height-e.pageY+d.top)/c._height*100)},value:function(a){var b,d,e=this,f=e._options;return a===c?f._percent:(a=parseFloat(a),isNaN(a)?e:(a=a>100?100:0>a?0:a,f._percent=a,d=";-webkit-transition-duration:"+f.transitionDuration+"ms",f.horizontal?(b=f._current=f._width*a/100,f._button.style.cssText+="-webkit-transform:translate3d("+b+"px,0,0)"+d,f._filled.style.cssText+="width:"+a+"%"+d):(b=f._current=f._height*a/-100,f._button.style.cssText+="-webkit-transform:translate3d(0,"+b+"px,0)"+d,f._filled.style.cssText+="height:"+a+"%;top:"+(f._height+b)+"px"+d),e.trigger("valueChange"),e))},show:function(){var a=this;return a._options._isShow||(a.$el.css("display","block"),a._options._isShow=!0),a},hide:function(){var a=this;return a._options._isShow&&(a.$el.css("display","none"),a._options._isShow=!1),a}})}(gmu,gmu.$),function(a,b,c){a.define("Refresh",{options:{load:null,statechange:null},_init:function(){var a=this,c=a._options;
a.on("ready",function(){b.each(["up","down"],function(b,d){var e=c["$"+d+"Elem"],f=e.get(0);e.length&&(a._status(d,!0),(!f.childNodes.length||e.find(".ui-refresh-icon").length&&e.find(".ui-refresh-label").length)&&(!f.childNodes.length&&a._createBtn(d),c.refreshInfo||(c.refreshInfo={}),c.refreshInfo[d]={$icon:e.find(".ui-refresh-icon"),$label:e.find(".ui-refresh-label"),text:e.find(".ui-refresh-label").html()}),e.on("click",function(){a._status(d)&&!c._actDir&&(a._setStyle(d,"loading"),a._loadingAction(d,"click"))}))})}),a.on("destroy",function(){a.$el.remove()})},_create:function(){var a=this,b=a._options,c=a.$el;a._options.setup&&(b.$upElem=c.find(".ui-refresh-up"),b.$downElem=c.find(".ui-refresh-down"),c.addClass("ui-refresh"))},_createBtn:function(a){return this._options["$"+a+"Elem"].html('<span class="ui-refresh-icon"></span><span class="ui-refresh-label">加载更多</span>'),this},_setStyle:function(a,c){var d=this,e=b.Event("statechange");return d.trigger(e,d._options["$"+a+"Elem"],c,a),e.defaultPrevented?d:d._changeStyle(a,c)},_changeStyle:function(a,b){var c=this._options,d=c.refreshInfo[a];switch(b){case"loaded":d.$label.html(d.text),d.$icon.removeClass(),c._actDir="";break;case"loading":d.$label.html("加载中..."),d.$icon.addClass("ui-loading"),c._actDir=a;break;case"disable":d.$label.html("没有更多内容了")}return this},_loadingAction:function(a,c){var d=this,e=d._options,f=e.load;return b.isFunction(f)&&f.call(d,a,c),d._status(a,!1),d},afterDataLoading:function(a){var b=this,a=a||b._options._actDir;return b._setStyle(a,"loaded"),b._status(a,!0),b},_status:function(a,b){var d=this._options;return b===c?d["_"+a+"Open"]:d["_"+a+"Open"]=!!b},_setable:function(a,c,d){var e=this,f=e._options,g=c?[c]:["up","down"];return b.each(g,function(b,c){var g=f["$"+c+"Elem"];g.length&&(a?g.show():d?g.hide():e._setStyle(c,"disable"),e._status(c,a))}),e},disable:function(a,b){return this._setable(!1,a,b)},enable:function(a){return this._setable(!0,a)}})}(gmu,gmu.$),function(a,b){var c=b.fx.cssPrefix,d=b.fx.transitionEnd,e=" translateZ(0)";a.define("Slider",{options:{loop:!1,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var a=this,c=a.getEl(),e=a._options;a.index=e.index,a._initDom(c,e),a._initWidth(c,a.index),a._container.on(d+a.eventNs,b.proxy(a._tansitionEnd,a)),b(window).on("ortchange"+a.eventNs,function(){a._initWidth(c,a.index)})},_initDom:function(a,c){var d,e,f=c.selector,g=c.viewNum||1;for(e=a.find(f.container),e.length||(e=b("<div></div>"),c.content?this._createItems(e,c.content):a.is("ul")?(this.$el=e.insertAfter(a),e=a,a=this.$el):e.append(a.children()),e.appendTo(a)),(d=e.children()).length<g+1&&(c.loop=!1);c.loop&&e.children().length<3*g;)e.append(d.clone());this.length=e.children().length,this._items=(this._container=e).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray(),this.trigger("done.dom",a.addClass("ui-slider"),c)},_createItems:function(a,b){for(var c=0,d=b.length;d>c;c++)a.append(this.tpl2html("item",b[c]))},_initWidth:function(a,b,c){var d,e=this;(c||(d=a.width())!==e.width)&&(e.width=d,e._arrange(d,b),e.height=a.height(),e.trigger("width.change"))},_arrange:function(a,b){var c,d,e=this._items,f=0;for(this._slidePos=new Array(e.length),d=e.length;d>f;f++)c=e[f],c.style.cssText+="width:"+a+"px;left:"+f*-a+"px;",c.setAttribute("data-index",f),this._move(f,b>f?-a:f>b?a:0,0);this._container.css("width",a*d)},_move:function(a,b,c,d){var e=this._slidePos,f=this._items;e[a]!==b&&f[a]&&(this._translate(a,b,c),e[a]=b,d&&f[a].clientLeft)},_translate:function(a,b,d){var f=this._items[a],g=f&&f.style;return g?void(g.cssText+=c+"transition-duration:"+d+"ms;"+c+"transform: translate("+b+"px, 0)"+e+";"):!1},_circle:function(a,b){var c;return b=b||this._items,c=b.length,(a%c+c)%b.length},_tansitionEnd:function(a){~~a.target.getAttribute("data-index")===this.index&&this.trigger("slideend",this.index)},_slide:function(a,b,c,d,e,f){var g,h=this;return g=h._circle(a-c*b),f.loop||(c=Math.abs(a-g)/(a-g)),this._move(g,-c*d,0,!0),this._move(a,d*c,e),this._move(g,0,e),this.index=g,this.trigger("slide",g,a)},slideTo:function(a,b){if(this.index===a||this.index===this._circle(a))return this;var c=this._options,d=this.index,e=Math.abs(d-a),f=e/(d-a),g=this.width;return b=b||c.speed,this._slide(d,e,f,g,b,c)},prev:function(){return(this._options.loop||this.index>0)&&this.slideTo(this.index-1),this},next:function(){return(this._options.loop||this.index+1<this.length)&&this.slideTo(this.index+1),this},getIndex:function(){return this.index},destroy:function(){return this._container.off(this.eventNs),b(window).off("ortchange"+this.eventNs),this.$super("destroy")}})}(gmu,gmu.$),function(a,b){b.extend(!0,a.Slider,{options:{autoPlay:!0,interval:4e3}}),a.Slider.register("autoplay",{_init:function(){var a=this;a.on("slideend ready",a.resume).on("destory",a.stop),a.getEl().on("touchstart"+a.eventNs,b.proxy(a.stop,a)).on("touchend"+a.eventNs,b.proxy(a.resume,a))},resume:function(){var a=this,b=a._options;return b.autoPlay&&!a._timer&&(a._timer=setTimeout(function(){a.slideTo(a.index+1),a._timer=null},b.interval)),a},stop:function(){var a=this;return a._timer&&(clearTimeout(a._timer),a._timer=null),a}})}(gmu,gmu.$),function(a){a.Slider.template.item='<div class="ui-slider-item"><a href="<%= href %>"><img lazyload="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>',a.Slider.register("lazyloadimg",{_init:function(){this.on("ready slide",this._loadItems)},_loadItems:function(){var a,b,c=this._options,d=c.loop,e=c.viewNum||1,f=this.index;for(a=f-e,b=f+2*e;b>a;a++)this.loadImage(d?this._circle(a):a)},loadImage:function(b){var c,d=this._items[b];return d&&(c=a.staticCall(d,"find","img[lazyload]"),c.length)?void c.each(function(){this.src=this.getAttribute("lazyload"),this.removeAttribute("lazyload")}):this}})}(gmu),function(a,b,c){var d,e,f,g,h={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"};b.extend(a.Slider.options,{stopPropagation:!1,disableScroll:!1}),a.Slider.register("touch",{_init:function(){var a=this,b=a.getEl();a._handler=function(b){return a._options.stopPropagation&&b.stopPropagation(),h[b.type]&&a[h[b.type]].call(a,b)},a.on("ready",function(){b.on("touchstart"+a.eventNs,a._handler),a._container.on("click"+a.eventNs,a._handler)})},_onClick:function(){return!g},_onStart:function(a){if(a.touches.length>1)return!1;var b,h=this,i=a.touches[0],j=h._options,k=h.eventNs;e={x:i.pageX,y:i.pageY,time:+new Date},f={},g=!1,d=c,b=j.viewNum||1,h._move(j.loop?h._circle(h.index-b):h.index-b,-h.width,0,!0),h._move(j.loop?h._circle(h.index+b):h.index+b,h.width,0,!0),h.$el.on("touchmove"+k+" touchend"+k+" touchcancel"+k,h._handler)},_onMove:function(a){if(a.touches.length>1||a.scale&&1!==a.scale)return!1;var b,c,h,i,j=this._options,k=j.viewNum||1,l=a.touches[0],m=this.index;if(j.disableScroll&&a.preventDefault(),f.x=l.pageX-e.x,f.y=l.pageY-e.y,"undefined"==typeof d&&(d=Math.abs(f.x)<Math.abs(f.y)),!d){for(a.preventDefault(),j.loop||(f.x/=!m&&f.x>0||m===this._items.length-1&&f.x<0?Math.abs(f.x)/this.width+1:1),i=this._slidePos,b=m-k,c=m+2*k;c>b;b++)h=j.loop?this._circle(b):b,this._translate(h,f.x+i[h],0);g=!0}},_onEnd:function(){if(this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler),g){var a,b,c,d,h,i=this,j=i._options,k=j.viewNum||1,l=i.index,m=i._slidePos,n=+new Date-e.time,o=Math.abs(f.x),p=!j.loop&&(!l&&f.x>0||l===m.length-k&&f.x<0),q=f.x>0?1:-1;if(250>n?(a=o/n,b=Math.min(Math.round(a*k*1.2),k)):b=Math.round(o/(i.perWidth||i.width)),b&&!p)i._slide(l,b,q,i.width,j.speed,j,!0),k>1&&n>=250&&Math.ceil(o/i.perWidth)!==b&&(i.index<l?i._move(i.index-1,-i.perWidth,j.speed):i._move(i.index+k,i.width,j.speed));else for(c=l-k,d=l+2*k;d>c;c++)h=j.loop?i._circle(c):c,i._translate(h,m[h],j.speed)}}})}(gmu,gmu.$),function(a,b){b.extend(!0,a.Slider,{template:{prev:'<span class="ui-slider-pre"></span>',next:'<span class="ui-slider-next"></span>'},options:{arrow:!0,select:{prev:".ui-slider-pre",next:".ui-slider-next"}}}),a.Slider.option("arrow",!0,function(){var a=this,c=["prev","next"];this.on("done.dom",function(d,e,f){var g=f.selector;c.forEach(function(c){var d=e.find(g[c]);d.length||e.append(d=b(a.tpl2html(c))),a["_"+c]=d})}),this.on("ready",function(){c.forEach(function(b){a["_"+b].on("tap"+a.eventNs,function(){a[b].call(a)})})}),this.on("destroy",function(){a._prev.off(a.eventNs),a._next.off(a.eventNs)})})}(gmu,gmu.$),function(a,b){b.extend(!0,a.Slider,{template:{dots:'<p class="ui-slider-dots"><%= new Array( len + 1 ).join("<b></b>") %></p>'},options:{dots:!0,selector:{dots:".ui-slider-dots"}}}),a.Slider.option("dots",!0,function(){var c=function(b,c){var d=this._dots;"undefined"==typeof c||a.staticCall(d[c%this.length],"removeClass","ui-state-active"),a.staticCall(d[b%this.length],"addClass","ui-state-active")};this.on("done.dom",function(a,c,d){var e=c.find(d.selector.dots);e.length||(e=this.tpl2html("dots",{len:this.length}),e=b(e).appendTo(c)),this._dots=e.children().toArray()}),this.on("slide",function(a,b,d){c.call(this,b,d)}),this.on("ready",function(){c.call(this,this.index)})})}(gmu,gmu.$),function(a){a.Slider.options.imgZoom=!0,a.Slider.option("imgZoom",function(){return!!this._options.imgZoom},function(){function a(){d&&d.off("load"+e.eventNs,c)}function b(){a(),d=e._container.find(f).on("load"+e.eventNs,c)}function c(a){var b=a.target||this,c=Math.min(1,e.width/b.naturalWidth,e.height/b.naturalHeight);b.style.width=c*b.naturalWidth+"px"}var d,e=this,f=e._options.imgZoom;f="string"==typeof f?f:"img",e.on("ready dom.change",b),e.on("width.change",function(){d&&d.each(c)}),e.on("destroy",a)})}(gmu),function(a,b){var c=0;gmu.define("Suggestion",{options:{historyShare:!0,confirmClearHistory:!0,autoClose:!1},template:{wrapper:'<div class="ui-suggestion"><div class="ui-suggestion-content"></div><div class="ui-suggestion-button"><span class="ui-suggestion-clear">清除历史记录</span><span class="ui-suggestion-close">关闭</span></div></div>'},_initDom:function(){var b=this,d=b.getEl().attr("autocomplete","off"),e=d.parent(".ui-suggestion-mask");return e.length?b.$mask=e:d.wrap(b.$mask=a('<div class="ui-suggestion-mask"></div>')),b.$mask.append(b.tpl2html("wrapper")),b.$wrapper=b.$mask.find(".ui-suggestion").prop("id","ui-suggestion-"+c++),b.$content=b.$wrapper.css("top",d.height()+(b.wrapperTop=parseInt(b.$wrapper.css("top"),10)||0)).find(".ui-suggestion-content"),b.$btn=b.$wrapper.find(".ui-suggestion-button"),b.$clearBtn=b.$btn.find(".ui-suggestion-clear"),b.$closeBtn=b.$btn.find(".ui-suggestion-close"),b.trigger("initdom")},_bindEvent:function(){var b=this,c=b.getEl(),d=b.eventNs;return b._options.autoClose&&a(document).on("tap"+d,function(c){!a.contains(b.$mask.get(0),c.target)&&b.hide()}),c.on("focus"+d,function(){!b.isShow&&b._showList().trigger("open")}),c.on("input"+d,function(){b._showList()}),b.$clearBtn.on("click"+d,function(){b.history(null)}).highlight("ui-suggestion-highlight"),b.$closeBtn.on("click"+d,function(){b.getEl().blur(),b.hide().trigger("close")}).highlight("ui-suggestion-highlight"),b},_create:function(){var b=this,d=b._options,e=d.historyShare;return d.container&&(b.$el=a(d.container)),b.key=e?("boolean"===a.type(e)?"":e+"-")+"SUG-Sharing-History":b.getEl().attr("id")||"ui-suggestion-"+c++,b.separator=encodeURIComponent(","),b._initDom()._bindEvent(),b},_showList:function(){var b,c=this,d=c.value();return d?c.trigger("sendrequest",d,a.proxy(c._render,c),a.proxy(c._cacheData,c)):(b=c._localStorage())?c._render(d,b.split(c.separator)):c.hide(),c},_render:function(b,c){this.trigger("renderlist",c,b,a.proxy(this._fillWrapper,this))},_fillWrapper:function(a){return this.$clearBtn[this.value()?"hide":"show"](),a?(this.$content.html(a),this.show()):this.hide(),this},_localStorage:function(c){var d,e,f=this,g=f.key,h=f.separator;try{if(d=b.localStorage,void 0===c)return d[g];null===c?d[g]="":c&&(e=d[g]?d[g].split(h):[],~a.inArray(c,e)||(e.unshift(c),d[g]=e.join(h)))}catch(i){console.log(i.message)}return f},_cacheData:function(a,b){return this.cacheData||(this.cacheData={}),void 0!==b?this.cacheData[a]=b:this.cacheData[a]},value:function(){return this.getEl().val()},history:function(a){var c=this,d=null!==a||function(){return c._localStorage(null).hide()};return null===a?c._options.confirmClearHistory?b.confirm("清除全部查询历史记录？")&&d():d():c._localStorage(a)},show:function(){return this.isShow?this:(this.$wrapper.show(),this.isShow=!0,this.trigger("show"))},hide:function(){return this.isShow?(this.$wrapper.hide(),this.isShow=!1,this.trigger("hide")):this},destroy:function(){var b=this,c=b.getEl(),d=b.ns;return b.trigger("destroy"),c.off(d),b.$mask.replaceWith(c),b.$clearBtn.off(d),b.$closeBtn.off(d),b.$wrapper.children().off().remove(),b.$wrapper.remove(),b._options.autoClose&&a(document).off(d),this.destroyed=!0,b}})}(gmu.$,window),function(a,b){a.Suggestion.register("iscroll",{_init:function(){var a=this;return a.on("ready",function(){a.$scroller=b('<div class="ui-suggestion-scroller"></div>'),a.$content.wrapInner(a.$scroller).iScroll({hScroll:!1,onRefresh:function(){this.y&&this.scrollTo(0,0)}}),a.on("destroy",function(){a.$content.iScroll("destroy")})}),a},_fillWrapper:function(a){return this.$clearBtn[this.value()?"hide":"show"](),a?(this.show().$scroller.html(a),this.$content.iScroll("refresh")):this.hide(),this}})}(gmu,gmu.$),function(a,b){var c=Array.prototype.reverse;gmu.Suggestion.options.listSelector="li",gmu.Suggestion.register("posadapt",{_init:function(){var a,b=this;b.on("show ortchange",function(){b._checkPos()&&(b.$wrapper.css("top",-b.$wrapper.height()-b.wrapperTop),c.call(a=b.$content.find(b._options.listSelector)),a.appendTo(a.parent()),b.$btn.prependTo(b.$wrapper))})},_checkPos:function(){var c=this._options.height||66,d=this.getEl().offset().top-b.pageYOffset;return a(b).height()-d<c&&d>=c}})}(gmu.$,window),function(a,b){a.Suggestion.register("quickdelete",{_init:function(){var a,c,d=this;d.on("ready",function(){a=d.getEl(),c=d.eventNs,d.$mask.append(d.$quickDel=b('<div class="ui-suggestion-quickdel"></div>')),a.on("focus"+c+" input"+c,function(){d["_quickDel"+(b.trim(a.val())?"Show":"Hide")]()}),a.on("blur"+c,function(){d._quickDelHide()}),d.$quickDel.on("touchstart"+c,function(b){b.preventDefault(),b.formDelete=!0,a.val(""),d.trigger("delete").trigger("input")._quickDelHide(),a.blur().focus()}),d.on("destroy",function(){d.$quickDel.off().remove()})})},_quickDelShow:function(){this.quickDelShow||(a.staticCall(this.$quickDel.get(0),"css","visibility","visible"),this.quickDelShow=!0)},_quickDelHide:function(){this.quickDelShow&&(a.staticCall(this.$quickDel.get(0),"css","visibility","hidden"),this.quickDelShow=!1)}})}(gmu,gmu.$),function(a,b){gmu.Suggestion.options.compatdata=!0,gmu.Suggestion.option("compatdata",!0,function(){this.on("ready",function(){var a,c,d=this.key,e="SUG-History-DATATRANS";try{a=b.localStorage[d],a&&!b.localStorage[e]&&(b.localStorage[e]="",c=a.split(","),b.localStorage[d]=c.join(this.separator))}catch(f){console.log(f.message)}})})}(gmu.$,window),function(a){a.extend(gmu.Suggestion.options,{isHistory:!0,usePlus:!1,listCount:5,renderlist:null}),gmu.Suggestion.option("renderlist",function(){return"function"!==a.type(this._options.renderlist)},function(){var b=this,c=a("<div></div>"),d=function(a){return c.text(a).html()},e=function(c,e){var f,g,h,i=b._options,j=[],k="";if(!e||!e.length)return b.hide(),j;for(e=e.slice(0,i.listCount),c=d(c||""),h=0,g=e.length;g>h;h++)k=d(f=e[h]),c&&(k=a.trim(f).replace(c,"<span>"+c+"</span>")),i.usePlus&&(k+='<div class="ui-suggestion-plus" data-item="'+f+'"></div>'),j.push("<li>"+k+"</li>");return j};b.on("ready",function(){var b=this,c=b.eventNs,d=a(b._options.form||b.getEl().closest("form"));d.size()&&(b.$form=d.on("submit"+c,function(a){var c=gmu.Event("submit");b._options.isHistory&&b._localStorage(b.value()),b.trigger(c),c.isDefaultPrevented()&&a.preventDefault()})),b.$content.on("touchstart"+c,function(a){a.preventDefault()}),b.$content.on("tap"+c,function(c){var d=b.getEl(),e=a(c.target);e.hasClass("ui-suggestion-plus")?d.val(e.attr("data-item")):a.contains(b.$content.get(0),e.get(0))&&setTimeout(function(){d.val(e.text()),b.trigger("select",e).hide().$form.submit()},400)}).highlight("ui-suggestion-highlight"),b.on("destroy",function(){d.size()&&d.off(c),b.$content.off()})}),b.on("renderlist",function(a,b,c,d){var f=e(c,b);return d(f.length?"<ul>"+f.join(" ")+"</ul>":"")})})}(gmu.$),function(a,b){a.extend(gmu.Suggestion.options,{isCache:!0,queryKey:"wd",cbKey:"cb",sendrequest:null}),gmu.Suggestion.option("sendrequest",function(){return"function"!==a.type(this._options.sendrequest)},function(){var c,d=this,e=d._options,f=e.queryKey,g=e.cbKey,h=e.param,i=e.isCache;this.on("sendrequest",function(j,k,l,m){var n=e.source,o="suggestion_"+ +new Date;return i&&(c=m(k))?(l(k,c),d):(n=(n+"&"+f+"="+encodeURIComponent(k)).replace(/[&?]{1,2}/,"?"),!~n.indexOf("&"+g)&&(n+="&"+g+"="+o),h&&(n+="&"+h),b[o]=function(a){l(k,a.s),i&&m(k,a.s),delete b[o]},a.ajax({url:n,dataType:"jsonp"}),d)})})}(gmu.$,window),function(a,b,c){var d=1,e=function(){return d++},f=/^#(.+)$/;a.define("Tabs",{options:{active:0,items:null,transition:"slide"},template:{nav:'<ul class="ui-tabs-nav"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><li<% if(i==active){ %> class="ui-state-active"<% } %>><a href="javascript:;"><%=item.title%></a></li><% } %></ul>',content:'<div class="ui-viewport ui-tabs-content"><% var item; for(var i=0, length=items.length; i<length; i++) { item=items[i]; %><div<% if(item.id){ %> id="<%=item.id%>"<% } %> class="ui-tabs-panel <%=transition%><% if(i==active){ %> ui-state-active<% } %>"><%=item.content%></div><% } %></div>'},_init:function(){var a,c=this,d=c._options,e=b.proxy(c._eventHandler,c);c.on("ready",function(){a=c.$el,a.addClass("ui-tabs"),d._nav.on("tap",e).children().highlight("ui-state-hover")}),b(window).on("ortchange",e)},_create:function(){var a=this,c=a._options;a._options.setup&&a.$el.children().length>0?a._prepareDom("setup",c):(c.setup=!1,a.$el=a.$el||b("<div></div>"),a._prepareDom("create",c))},_prepareDom:function(a,c){var d,g,h,i,j=this,k=j.$el;switch(a){case"setup":if(c._nav=j._findElement("ul").first(),c._nav){c._content=j._findElement("div.ui-tabs-content"),c._content=(c._content&&c._content.first()||b("<div></div>").appendTo(k)).addClass("ui-viewport ui-tabs-content"),d=[],c._nav.addClass("ui-tabs-nav").children().each(function(){var a,g,h=j._findElement("a",this),i=h?h.attr("href"):b(this).attr("data-url");a=f.test(i)?RegExp.$1:"tabs_"+e(),(g=j._findElement("#"+a)||b('<div id="'+a+'"></div>')).addClass("ui-tabs-panel"+(c.transition?" "+c.transition:"")).appendTo(c._content),d.push({id:a,href:i,title:h?h.attr("href","javascript:;").text():b(this).text(),content:g})}),c.items=d,c.active=Math.max(0,Math.min(d.length-1,c.active||b(".ui-state-active",c._nav).index()||0)),j._getPanel().add(c._nav.children().eq(c.active)).addClass("ui-state-active");break}default:d=c.items=c.items||[],g=[],h=[],c.active=Math.max(0,Math.min(d.length-1,c.active)),b.each(d,function(a,b){i="tabs_"+e(),g.push({href:b.href||"#"+i,title:b.title}),h.push({content:b.content||"",id:i}),d[a].id=i}),c._nav=b(this.tpl2html("nav",{items:g,active:c.active})).prependTo(k),c._content=b(this.tpl2html("content",{items:h,active:c.active,transition:c.transition})).appendTo(k),c.container=c.container||(k.parent().length?null:"body")}c.container&&k.appendTo(c.container),j._fitToContent(j._getPanel())},_getPanel:function(a){var d=this._options;return b("#"+d.items[a===c?d.active:a].id)},_findElement:function(a,c){var d=b(c||this.$el).find(a);return d.length?d:null},_eventHandler:function(a){var c,d=this._options;switch(a.type){case"ortchange":this.refresh();break;default:(c=b(a.target).closest("li",d._nav.get(0)))&&c.length&&(a.preventDefault(),this.switchTo(c.index()))}},_fitToContent:function(a){var b=this._options,d=b._content;return b._plus===c&&(b._plus=parseFloat(d.css("border-top-width"))+parseFloat(d.css("border-bottom-width"))),d.height(a.height()+b._plus),this},switchTo:function(c){var d,e,f,g,h,i=this,j=i._options,k=j.items;if(!j._buzy&&j.active!=(c=Math.max(0,Math.min(k.length-1,c)))){if(e=b.extend({},k[c]),e.div=i._getPanel(c),e.index=c,f=b.extend({},k[j.active]),f.div=i._getPanel(),f.index=j.active,d=a.Event("beforeActivate"),i.trigger(d,e,f),d.isDefaultPrevented())return i;j._content.children().removeClass("ui-state-active"),e.div.addClass("ui-state-active"),j._nav.children().removeClass("ui-state-active").eq(e.index).addClass("ui-state-active"),j.transition&&(j._buzy=!0,h=b.fx.animationEnd+".tabs",g=c>j.active?"":" reverse",j._content.addClass("ui-viewport-transitioning"),f.div.addClass("out"+g),e.div.addClass("in"+g).on(h,function(a){a.target==a.currentTarget&&(e.div.off(h,arguments.callee),j._buzy=!1,f.div.removeClass("out reverse"),e.div.removeClass("in reverse"),j._content.removeClass("ui-viewport-transitioning"),i.trigger("animateComplete",e,f),i._fitToContent(e.div))})),j.active=c,i.trigger("activate",e,f),j.transition||i._fitToContent(e.div)}return i},refresh:function(){return this._fitToContent(this._getPanel())},destroy:function(){var a=this._options,b=this._eventHandler;return a._nav.off("tap",b).children().highlight(),a.swipe&&a._content.off("swipeLeft swipeRight",b),a.setup||this.$el.remove(),this.$super("destroy")}})}(gmu,gmu.$),function(a){var b=/^#.+$/,c={},d={loading:'<div class="ui-loading">Loading</div>',error:'<p class="ui-load-error">内容加载失败!</p>'};gmu.Tabs.register("ajax",{_init:function(){var a,c,d,e=this._options;this.on("ready",function(){for(a=e.items,c=0,d=a.length;d>c;c++)a[c].href&&!b.test(a[c].href)&&(a[c].isAjax=!0);this.on("activate",this._onActivate),a[e.active].isAjax&&this.load(e.active)})},destroy:function(){return this.off("activate",this._onActivate),this.xhr&&this.xhr.abort(),this.origin()},_fitToContent:function(a){var b=this._options;return b._fitLock?void 0:this.origin(a)},_onActivate:function(a,b){b.isAjax&&this.load(b.index)},load:function(b,e){var f,g,h,i=this,j=i._options,k=j.items;return 0>b||b>k.length-1||!(f=k[b])||!f.isAjax||(g=i._getPanel(b)).text()&&!e&&c[b]?this:((h=i.xhr)&&setTimeout(function(){h.abort()},400),j._loadingTimer=setTimeout(function(){g.html(d.loading)},50),j._fitLock=!0,void(i.xhr=a.ajax(a.extend(j.ajax||{},{url:f.href,context:i.$el.get(0),beforeSend:function(a,b){var c=gmu.Event("beforeLoad");return i.trigger(c,a,b),c.isDefaultPrevented()?!1:void 0},success:function(a,d){var e=gmu.Event("beforeRender");clearTimeout(j._loadingTimer),i.trigger(e,a,g,b,d),e.isDefaultPrevented()||g.html(a),j._fitLock=!1,c[b]=!0,i.trigger("load",g),delete i.xhr,i._fitToContent(g)},error:function(){var a=gmu.Event("loadError");clearTimeout(j._loadingTimer),c[b]=!1,i.trigger(a,g),a.isDefaultPrevented()||g.html(d.error),delete i.xhr}}))))}})}(Zepto),function(a,b){function c(){a(document).on("touchstart.tabs",function(c){var h,i,k=c.touches?c.touches[0]:c;h={x:k.clientX,y:k.clientY,time:Date.now(),el:a(c.target)},a(document).on("touchmove.tabs",function(b){var c,d=b.touches?b.touches[0]:b;h&&(i={x:d.clientX,y:d.clientY,time:Date.now()},(c=Math.abs(h.x-i.x))>g||c>Math.abs(h.y-i.y)?j(b.target)&&b.preventDefault():a(document).off("touchmove.tabs touchend.tabs"))}).one("touchend.tabs",function(){a(document).off("touchmove.tabs"),h&&i&&i.time-h.time<d&&Math.abs(h.x-i.x)>e&&Math.abs(h.y-i.y)<f&&h.el.trigger(h.x>i.x?"tabsSwipeLeft":"tabsSwipeRight"),h=i=b})})}var d=1e3,e=30,f=70,g=30,h=[],i=!1,j=function(b){for(var c=h.length;c--;)if(a.contains(h[c],b))return!0;return!1};gmu.Tabs.register("swipe",{_init:function(){var b=this._options;this.on("ready",function(){h.push(b._content.get(0)),i=i||(c(),!0),this.$el.on("tabsSwipeLeft tabsSwipeRight",a.proxy(this._eventHandler,this))})},_eventHandler:function(a){var c,d,e=this._options;switch(a.type){case"tabsSwipeLeft":case"tabsSwipeRight":c=e.items,"tabsSwipeLeft"==a.type&&e.active<c.length-1?d=e.active+1:"tabsSwipeRight"==a.type&&e.active>0&&(d=e.active-1),d!==b&&(a.stopPropagation(),this.switchTo(d));break;default:return this.origin(a)}},destroy:function(){var b,c=this._options;return~(b=a.inArray(c._content.get(0),h))&&h.splice(b,1),this.$el.off("tabsSwipeLeft tabsSwipeRight",this._eventHandler),h.length||(a(document).off("touchstart.tabs"),i=!1),this.origin()}})}(Zepto),function(a,b){a.define("Toolbar",{options:{container:document.body,title:"标题",leftBtns:[],rightBtns:[],fixed:!1},_init:function(){var a,c=this,d=c._options;d.container||(d.container=document.body),c.on("ready",function(){if(a=c.$el,d.fixed){var e,f=b('<div class="ui-toolbar-placeholder"></div>').height(a.offset().height).insertBefore(a).append(a).append(a.clone().css({"z-index":1,position:"absolute",top:0})),g=a.offset().top,h=function(){document.body.scrollTop>g?a.css({position:"fixed",top:0}):a.css("position","absolute")};b(window).on("touchmove touchend touchcancel scroll scrollStop",h),b(document).on("touchend touchcancel",e=function(){setTimeout(function(){h()},200)}),c.on("destroy",function(){b(window).off("touchmove touchend touchcancel scroll scrollStop",h),b(document).off("touchend touchcancel",e),a.insertBefore(f),f.remove(),c._removeDom()}),h()}}),c.on("destroy",function(){c._removeDom()})},_create:function(){var a=this,c=a._options,d=a.getEl(),e=b(c.container),f=[],g=a.btnGroups={left:[],right:[]},h=g.left;c.setup||(d&&d.length>0?d.appendTo(e):d=a.$el=b("<div>").appendTo(e)),f=d.children(),$toolbarWrap=d.find(".ui-toolbar-wrap"),0===$toolbarWrap.length?$toolbarWrap=b('<div class="ui-toolbar-wrap"></div>').appendTo(d):f=$toolbarWrap.children(),f.forEach(function(b){$toolbarWrap.append(b),/^[hH]/.test(b.tagName)?(h=g.right,a.title=b):h.push(b)});var i=$toolbarWrap.find(".ui-toolbar-left"),j=$toolbarWrap.find(".ui-toolbar-right");0===i.length&&(i=f.length?b('<div class="ui-toolbar-left">').insertBefore(f[0]):b('<div class="ui-toolbar-left">').appendTo($toolbarWrap),g.left.forEach(function(a){b(a).addClass("ui-toolbar-button"),i.append(a)}),j=b('<div class="ui-toolbar-right">').appendTo($toolbarWrap),g.right.forEach(function(a){b(a).addClass("ui-toolbar-button"),j.append(a)})),d.addClass("ui-toolbar"),b(a.title).length?b(a.title).addClass("ui-toolbar-title"):b('<h1 class="ui-toolbar-title">'+c.title+"</h1>").insertAfter(i),a.btnContainer={left:i,right:j},a.addBtns("left",c.leftBtns),a.addBtns("right",c.rightBtns)},_addBtn:function(a,c){b(c).appendTo(a).addClass("ui-toolbar-button")},addBtns:function(b,c){var d=this,e=d.btnContainer[b],f=Object.prototype.toString;return"[object String]"!=f.call(b)&&(c=b,e=d.btnContainer.right),c.forEach(function(b){b instanceof a.Base&&(b=b.getEl()),d._addBtn(e,b)}),d},show:function(){var a=this;return a.$el.show(),a.trigger("show"),a.isShowing=!0,a},hide:function(){var a=this;return a.$el.hide(),a.trigger("hide"),a.isShowing=!1,a},toggle:function(){var a=this;return a.isShowing===!1?a.show():a.hide(),a},_removeDom:function(){var a=this,b=a.$el;a._options.setup===!1?b.remove():b.css("position","static").css("top","auto")}})}(gmu,gmu.$),function(a){a.Toolbar.register("position",{position:function(a){return this.$el.fix(a),this}})}(gmu,gmu.$),function(a,b){a.Refresh.register("iOS5",{_init:function(){var a=this,c=a._options,d=a.$el;d.css({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),c.topOffset=c.$upElem?c.$upElem.height():0,c.iScroll=a._getiScroll(),d.get(0).scrollTop=c.topOffset,d.on("touchstart touchmove touchend",b.proxy(a._eventHandler,a))},_changeStyle:function(a,b){var c=this,d=c._options,e=d.refreshInfo[a];switch(c.origin(a,b),b){case"loaded":e.$icon.addClass("ui-refresh-icon"),d._actDir="";break;case"beforeload":e.$label.html("松开立即加载"),e.$icon.addClass("ui-refresh-flip");break;case"loading":e.$icon.removeClass().addClass("ui-loading")}return c},_scrollStart:function(a){var b=this,c=b._options,d=c.topOffset,e=c.$upElem,f=b.$el.get(0),g=function(){clearTimeout(c.topOffsetTimer),e&&e.length&&f.scrollTop<=d&&!c._upRefreshed&&(f.scrollTop=d)};return b.trigger("scrollstart",a),b._enableScroll()._bindScrollStop(f,g),c.maxScrollY=f.offsetHeight-f.scrollHeight,c._scrollFn=g,b},_scrollMove:function(){var a=this,b=a._options,c=b.$upElem&&b.$upElem.length,d=b.$downElem&&b.$downElem.length,e=a.$el.get(0),f=b.threshold||5;a._scrollMove=function(g){var h=b.maxScrollY,i=e.scrollTop,j=b.lastMoveY||i,k=b._upRefreshed,l=b._downRefreshed,m=a._status("up"),n=a._status("down");if(!(c&&!m||d&&!n))return b.iScroll.deltaY=i-j,n&&d&&!l&&h-f>-i?a._setMoveState("down","beforeload","pull"):n&&d&&l&&-i>h-f&&-i!==h?a._setMoveState("down","loaded","restore"):m&&c&&!k&&-i>f?a._setMoveState("up","beforeload","pull"):m&&c&&k&&f>-i&&i&&a._setMoveState("up","loaded","restore"),b.lastMoveY=i,b._moved=!0,a.trigger("scrollmove",g,i,i-j)},a._scrollMove.apply(a,arguments)},_scrollEnd:function(a){var c=this,d=c._options,e=c.$el.get(0),f=d.topOffset,g=d._actDir,h=d._restoreDir;return("up"==h||e.scrollTop<=f)&&!g&&d._moved&&(c._options.topOffsetTimer=setTimeout(function(){b(e).off("scroll",d._scrollFn),e.scrollTop=f},800)),g&&c._status(g)&&(c._setStyle(g,"loading"),c._loadingAction(g,"pull")),d._moved=!1,c.trigger("scrollend",a)},_enableScroll:function(){var a=this,b=a.$el.get(0),c=b.scrollTop;return 0>=c&&(b.scrollTop=1),c+b.offsetHeight>=b.scrollHeight&&(b.scrollTop=b.scrollHeight-b.offsetHeight-1),a},_bindScrollStop:function(a,c){var d=this,e=b(a);return e.off("scroll",d._options._scrollFn).on("scroll",b.debounce(100,function(){e.off("scroll",arguments.callee).one("scroll",c)},!1)),d},_getiScroll:function(){var a=this,b=a.$el,c=b[0];return{el:c,deltaY:0,scrollTo:function(a,d,e){e&&(a=c.scrollTop+a),b.css({"-webkit-transition-property":"scrollTop","-webkit-transition-duration":a+"ms"}),c.scrollTop=a},disable:function(c){c&&a.destroy(),b.css("overflow","hidden")},enable:function(){b.css("overflow","scroll")}}},_setMoveState:function(a,b,c){var d=this,e=d._options;return d._setStyle(a,b),e["_"+a+"Refreshed"]="pull"==c,e._actDir="pull"==c?a:"",e._restoreDir="up"==a&&"restore"==c?a:"",d},_eventHandler:function(a){var b=this;switch(a.type){case"touchstart":b._scrollStart(a);break;case"touchmove":b._scrollMove(a);break;case"touchend":b._scrollEnd(a)}},afterDataLoading:function(a){var b=this,c=b._options,a=a||c._actDir;return c["_"+a+"Refreshed"]=!1,"up"==a&&(b.$el.get(0).scrollTop=c.topOffset),b.origin(a)}})}(gmu,gmu.$);